2025-12-16 12:01:12,583 - server - WARNING - ‚ö†Ô∏è  Frontend build not found at: /app/frontend/build
2025-12-16 12:01:12,583 - server - WARNING -    Run 'cd /app/frontend && yarn build' to create production build
2025-12-16 12:01:12,583 - server - INFO - üöÄ Server startet mit SQLite...
2025-12-16 12:01:12,591 - database - INFO - ‚úÖ SQLite verbunden (WAL mode, 60s timeout): /app/backend/trading.db
2025-12-16 12:01:12,591 - database - INFO - Erstelle SQLite Schema...
2025-12-16 12:01:12,592 - database - INFO - ‚úÖ SQLite Schema erstellt
2025-12-16 12:01:12,592 - database - INFO - ‚úÖ Database initialized
2025-12-16 12:01:12,592 - server - INFO - ‚úÖ SQLite Datenbank initialisiert
2025-12-16 12:01:12,592 - server - INFO - ‚ÑπÔ∏è  AI Trading Bot wird im Worker-Prozess gestartet
2025-12-16 12:01:12,592 - server - INFO - Starting WTI Smart Trader API...
2025-12-16 12:01:12,592 - server - INFO - Initializing persistent MetaAPI connections...
2025-12-16 12:01:13,583 - multi_platform_connector - INFO - ‚ÑπÔ∏è  Real Account not configured (only Demo available)
2025-12-16 12:01:13,583 - multi_platform_connector - INFO - MultiPlatformConnector (SDK) initialized with 6 platform(s)
2025-12-16 12:01:13,583 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:01:13,583 - multi_platform_connector - INFO - ‚úÖ Shared MetaApi client initialized
2025-12-16 12:01:13,583 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:01:14,075 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:01:14,076 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:01:14,086 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:01:14,086 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:01:14,087 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:01:14,087 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:01:14,465 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:01:14,466 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:01:14,470 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:01:14,471 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:01:14,471 - server - INFO - ‚úÖ Persistent MetaAPI connections established
2025-12-16 12:01:14,474 - llm_fallback - INFO - Fallback LLM configured: openai/gpt-5
2025-12-16 12:01:14,474 - server - INFO - AI Chat initialized: Provider=emergent, Model=gpt-5
2025-12-16 12:01:14,475 - server - INFO - MT5 credentials loaded: Server=ICMarketsEU-Demo, Login=52565616
2025-12-16 12:01:14,475 - server - INFO - ‚úÖ Connection health check started
2025-12-16 12:01:14,475 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:01:14,475 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:01:14,496 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:01:14,496 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:01:14,848 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:01:14,849 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:01:14,849 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:01:14,849 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:01:14,859 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:01:14,860 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:01:14,860 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:01:14,860 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:01:14,860 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_LIBERTEX_DEMO (returned False)
2025-12-16 12:01:14,860 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_ICMARKETS_DEMO (returned False)
2025-12-16 12:01:14,860 - server - INFO - Platform connector initialized and platforms connected for MetaAPI chart data (SDK)
2025-12-16 12:01:14,862 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:01:14,870 - yfinance - INFO - Failed to create TzCache, reason: Error creating TzCache folder: '/root/.cache/py-yfinance' reason: [Errno 17] File exists: '/root/.cache/py-yfinance'. TzCache will not be used. Tip: You can direct cache to use a different location with 'set_tz_cache_location(mylocation)'
2025-12-16 12:01:14,870 - yfinance - INFO - Failed to create TzCache, reason: Error creating TzCache folder: '/root/.cache/py-yfinance' reason: [Errno 17] File exists: '/root/.cache/py-yfinance'. TzCache will not be used. Tip: You can direct cache to use a different location with 'set_tz_cache_location(mylocation)'
2025-12-16 12:01:15,402 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4305.40
2025-12-16 12:01:15,402 - server - INFO - ‚úÖ GOLD: $4305.40 (source: yfinance)
2025-12-16 12:01:15,408 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:15,408 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:01:15,413 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:15,454 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1839.60
2025-12-16 12:01:15,455 - server - INFO - ‚úÖ PLATINUM: $1839.60 (source: yfinance)
2025-12-16 12:01:15,460 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:15,461 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:01:15,461 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:15,484 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.01
2025-12-16 12:01:15,484 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:01:15,487 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:15,487 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:01:15,487 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:17,582 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.66
2025-12-16 12:01:17,583 - server - INFO - ‚úÖ BRENT_CRUDE: $59.66 (source: yfinance)
2025-12-16 12:01:17,585 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:17,586 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:01:17,586 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:17,643 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1624.50
2025-12-16 12:01:17,644 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:01:17,647 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:17,647 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:01:17,647 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:17,711 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.79
2025-12-16 12:01:17,711 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:01:17,713 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:17,713 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:01:17,714 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:19,810 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.95
2025-12-16 12:01:19,810 - server - INFO - ‚úÖ NATURAL_GAS: $3.95 (source: yfinance)
2025-12-16 12:01:19,821 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:01:19,822 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:01:19,833 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $518.00
2025-12-16 12:01:19,833 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:19,833 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:01:19,833 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:19,834 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:01:19,836 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:19,836 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:01:19,836 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:19,836 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:19,836 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:01:19,837 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:22,069 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $356.80
2025-12-16 12:01:22,072 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:01:22,075 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:22,075 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:01:22,075 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:22,176 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $439.00
2025-12-16 12:01:22,179 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:01:22,252 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1073.00
2025-12-16 12:01:22,253 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:01:22,255 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:22,256 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:01:22,256 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:22,259 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:22,259 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:01:22,259 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:24,467 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5895.00
2025-12-16 12:01:24,472 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:01:24,476 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.93
2025-12-16 12:01:24,549 - server - INFO - ‚úÖ COCOA: $5895.00 (source: yfinance)
2025-12-16 12:01:24,554 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:01:24,556 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:01:24,559 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:24,559 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:01:24,559 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:24,559 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:24,559 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:01:24,560 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:24,560 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:24,560 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:01:24,560 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:26,697 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87288.76
2025-12-16 12:01:26,697 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:01:26,700 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:26,700 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:01:26,700 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:26,702 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:01:26,702 - server - INFO - ‚úÖ Market Data Updater started (updates every 30 seconds)
2025-12-16 12:01:26,702 - server - INFO - üî¥ Auto-Trading Engine ist DEAKTIVIERT (erstellt Fake-Trades)
2025-12-16 12:01:26,702 - server - INFO - API ready - market data available via /api/market/current and /api/market/refresh
2025-12-16 12:01:26,702 - server - INFO - AI analysis enabled for intelligent trading decisions
2025-12-16 12:01:26,702 - server - INFO - ü§ñ Starting Trade Settings Monitor...
2025-12-16 12:01:26,704 - server - INFO - ‚úÖ Trade Settings Monitor started - √ºberwacht alle Trades automatisch!
2025-12-16 12:01:26,705 - server - INFO - üîÑ Market Data Updater started - ECHTZEIT MODE (15s)
2025-12-16 12:01:26,705 - trade_settings_manager - INFO - ü§ñ Trade Settings Monitor gestartet
2025-12-16 12:01:41,705 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:01:41,706 - server - INFO - ‚úÖ GOLD: $4305.40 (source: yfinance)
2025-12-16 12:01:41,707 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:01:41,707 - server - INFO - ‚úÖ PLATINUM: $1839.60 (source: yfinance)
2025-12-16 12:01:41,708 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:41,708 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:01:41,708 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:41,708 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:41,708 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:01:41,708 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:41,708 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:41,708 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:01:41,709 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:43,709 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:01:43,710 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:01:43,710 - server - INFO - ‚úÖ BRENT_CRUDE: $59.66 (source: yfinance)
2025-12-16 12:01:43,711 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:43,711 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:01:43,711 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:43,711 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:43,711 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:01:43,712 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:43,712 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:43,712 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:01:43,712 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:45,713 - server - INFO - ‚úÖ NATURAL_GAS: $3.95 (source: yfinance)
2025-12-16 12:01:45,713 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:01:45,714 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:01:45,714 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:45,714 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:01:45,715 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:45,715 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:45,715 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:01:45,715 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:45,715 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:45,715 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:01:45,715 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:47,716 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:01:47,717 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:01:47,717 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:01:47,718 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:47,718 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:01:47,719 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:47,719 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:47,719 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:01:47,719 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:47,719 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:47,719 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:01:47,719 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:49,720 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:01:49,720 - server - INFO - ‚úÖ COCOA: $5895.00 (source: yfinance)
2025-12-16 12:01:49,721 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:01:49,721 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:49,721 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:01:49,722 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:49,722 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:49,722 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:01:49,722 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:49,722 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:49,722 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:01:49,722 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:51,723 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:01:51,724 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:01:51,724 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:01:51,725 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:01:51,726 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:02:06,727 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:02:06,728 - server - INFO - ‚úÖ GOLD: $4305.40 (source: yfinance)
2025-12-16 12:02:06,729 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:02:06,729 - server - INFO - ‚úÖ PLATINUM: $1839.60 (source: yfinance)
2025-12-16 12:02:06,730 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:06,730 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:02:06,730 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:06,731 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:06,731 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:02:06,731 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:06,731 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:06,731 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:02:06,731 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:08,749 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:02:08,750 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:02:08,751 - server - INFO - ‚úÖ BRENT_CRUDE: $59.66 (source: yfinance)
2025-12-16 12:02:08,752 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:08,752 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:02:08,753 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:08,753 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:08,753 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:02:08,753 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:08,753 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:08,753 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:02:08,754 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:10,755 - server - INFO - ‚úÖ NATURAL_GAS: $3.95 (source: yfinance)
2025-12-16 12:02:10,756 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:02:10,756 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:02:10,757 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:10,757 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:02:10,757 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:10,758 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:10,758 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:02:10,758 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:10,758 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:10,758 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:02:10,758 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:12,760 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:02:12,760 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:02:12,761 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:02:12,761 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:12,761 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:02:12,762 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:12,762 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:12,762 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:02:12,762 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:12,762 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:12,762 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:02:12,762 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:14,476 - server - INFO - üîç Connection health check...
2025-12-16 12:02:14,476 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:02:14,477 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:02:14,477 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:02:14,770 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:02:14,771 - server - INFO - ‚úÖ COCOA: $5895.00 (source: yfinance)
2025-12-16 12:02:14,772 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:02:14,849 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:14,850 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:02:14,967 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:14,967 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:14,967 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:02:14,967 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:14,968 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:14,968 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:02:14,969 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:15,367 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:02:15,368 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:02:15,369 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:02:15,369 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:02:15,369 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:02:15,369 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:02:15,369 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:02:15,781 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:02:15,782 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:02:15,784 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:02:15,785 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:02:15,785 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:02:16,969 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:02:16,970 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:16,971 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:02:16,971 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:16,972 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:02:31,973 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:02:31,973 - server - INFO - ‚úÖ GOLD: $4305.40 (source: yfinance)
2025-12-16 12:02:31,974 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:02:31,974 - server - INFO - ‚úÖ PLATINUM: $1839.60 (source: yfinance)
2025-12-16 12:02:31,975 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:31,975 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:02:31,975 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:31,975 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:31,975 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:02:31,975 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:31,976 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:31,976 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:02:31,976 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:34,052 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:02:34,052 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:02:34,053 - server - INFO - ‚úÖ BRENT_CRUDE: $59.66 (source: yfinance)
2025-12-16 12:02:34,054 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:34,054 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:02:34,054 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:34,054 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:34,054 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:02:34,054 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:34,054 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:34,054 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:02:34,055 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:36,056 - server - INFO - ‚úÖ NATURAL_GAS: $3.95 (source: yfinance)
2025-12-16 12:02:36,057 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:02:36,057 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:02:36,058 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:36,058 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:02:36,058 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:36,058 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:36,058 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:02:36,059 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:36,059 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:36,059 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:02:36,059 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:38,062 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:02:38,063 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:02:38,063 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:02:38,064 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:38,064 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:02:38,064 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:38,064 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:38,064 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:02:38,065 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:38,065 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:38,065 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:02:38,065 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:40,066 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:02:40,067 - server - INFO - ‚úÖ COCOA: $5895.00 (source: yfinance)
2025-12-16 12:02:40,067 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:02:40,068 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:40,068 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:02:40,069 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:40,069 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:40,069 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:02:40,069 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:40,069 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:40,069 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:02:40,070 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:42,071 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:02:42,072 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:42,072 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:02:42,072 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:42,074 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:02:57,075 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:02:57,075 - server - INFO - ‚úÖ GOLD: $4305.40 (source: yfinance)
2025-12-16 12:02:57,076 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:02:57,076 - server - INFO - ‚úÖ PLATINUM: $1839.60 (source: yfinance)
2025-12-16 12:02:57,077 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:57,077 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:02:57,077 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:57,078 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:57,078 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:02:57,078 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:57,078 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:57,078 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:02:57,078 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:59,079 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:02:59,080 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:02:59,081 - server - INFO - ‚úÖ BRENT_CRUDE: $59.66 (source: yfinance)
2025-12-16 12:02:59,082 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:59,082 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:02:59,082 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:59,082 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:59,082 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:02:59,083 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:02:59,083 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:02:59,083 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:02:59,083 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:01,083 - server - INFO - ‚úÖ NATURAL_GAS: $3.95 (source: yfinance)
2025-12-16 12:03:01,084 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:03:01,084 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:03:01,085 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:01,085 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:03:01,085 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:01,086 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:01,086 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:03:01,086 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:01,086 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:01,086 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:03:01,086 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:03,088 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:03:03,088 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:03:03,089 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:03:03,090 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:03,090 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:03:03,090 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:03,090 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:03,090 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:03:03,091 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:03,091 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:03,091 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:03:03,091 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:05,095 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:03:05,096 - server - INFO - ‚úÖ COCOA: $5895.00 (source: yfinance)
2025-12-16 12:03:05,098 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:03:05,100 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:05,100 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:03:05,101 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:05,101 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:05,101 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:03:05,101 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:05,101 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:05,101 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:03:05,101 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:07,103 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:03:07,104 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:07,104 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:03:07,104 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:07,108 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:03:15,786 - server - INFO - üîç Connection health check...
2025-12-16 12:03:15,786 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:03:15,786 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:03:15,786 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:03:16,190 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:03:16,190 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:03:16,191 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:03:16,191 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:03:16,191 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:03:16,191 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:03:16,191 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:03:16,577 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:03:16,578 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:03:16,578 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:03:16,578 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:03:16,578 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:03:22,110 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:03:22,110 - server - INFO - ‚úÖ GOLD: $4305.40 (source: yfinance)
2025-12-16 12:03:22,111 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:03:22,111 - server - INFO - ‚úÖ PLATINUM: $1839.60 (source: yfinance)
2025-12-16 12:03:22,112 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:22,112 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:03:22,112 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:22,112 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:22,112 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:03:22,113 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:22,113 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:22,113 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:03:22,113 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:24,114 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:03:24,114 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:03:24,115 - server - INFO - ‚úÖ BRENT_CRUDE: $59.66 (source: yfinance)
2025-12-16 12:03:24,115 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:24,115 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:03:24,116 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:24,116 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:24,116 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:03:24,116 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:24,116 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:24,116 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:03:24,116 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:26,119 - server - INFO - ‚úÖ NATURAL_GAS: $3.95 (source: yfinance)
2025-12-16 12:03:26,120 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:03:26,120 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:03:26,121 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:26,121 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:03:26,121 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:26,121 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:26,121 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:03:26,121 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:26,121 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:26,121 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:03:26,122 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:28,123 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:03:28,124 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:03:28,124 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:03:28,125 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:28,125 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:03:28,125 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:28,125 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:28,125 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:03:28,126 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:28,126 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:28,126 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:03:28,126 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:30,129 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:03:30,130 - server - INFO - ‚úÖ COCOA: $5895.00 (source: yfinance)
2025-12-16 12:03:30,130 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:03:30,131 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:30,131 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:03:30,131 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:30,131 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:30,131 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:03:30,132 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:30,132 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:30,132 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:03:30,132 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:32,132 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:03:32,134 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:32,134 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:03:32,134 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:32,136 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:03:46,412 - database - INFO - SQLite Verbindung geschlossen
2025-12-16 12:03:46,412 - server - INFO - ‚úÖ SQLite Verbindung geschlossen
2025-12-16 12:03:46,412 - server - INFO - Application shutdown complete
2025-12-16 12:03:47,518 - server - WARNING - ‚ö†Ô∏è  Frontend build not found at: /app/frontend/build
2025-12-16 12:03:47,518 - server - WARNING -    Run 'cd /app/frontend && yarn build' to create production build
2025-12-16 12:03:47,518 - server - INFO - üöÄ Server startet mit SQLite...
2025-12-16 12:03:47,520 - database - INFO - ‚úÖ SQLite verbunden (WAL mode, 60s timeout): /app/backend/trading.db
2025-12-16 12:03:47,520 - database - INFO - Erstelle SQLite Schema...
2025-12-16 12:03:47,520 - database - INFO - ‚úÖ SQLite Schema erstellt
2025-12-16 12:03:47,520 - database - INFO - ‚úÖ Database initialized
2025-12-16 12:03:47,520 - server - INFO - ‚úÖ SQLite Datenbank initialisiert
2025-12-16 12:03:47,520 - server - INFO - ‚ÑπÔ∏è  AI Trading Bot wird im Worker-Prozess gestartet
2025-12-16 12:03:47,520 - server - INFO - Starting WTI Smart Trader API...
2025-12-16 12:03:47,520 - server - INFO - Initializing persistent MetaAPI connections...
2025-12-16 12:03:47,730 - multi_platform_connector - INFO - ‚ÑπÔ∏è  Real Account not configured (only Demo available)
2025-12-16 12:03:47,730 - multi_platform_connector - INFO - MultiPlatformConnector (SDK) initialized with 6 platform(s)
2025-12-16 12:03:47,730 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:03:47,730 - multi_platform_connector - INFO - ‚úÖ Shared MetaApi client initialized
2025-12-16 12:03:47,730 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:03:48,222 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:03:48,223 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:03:48,224 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:03:48,224 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:03:48,224 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:03:48,224 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:03:48,599 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:03:48,600 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:03:48,600 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:03:48,600 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:03:48,600 - server - INFO - ‚úÖ Persistent MetaAPI connections established
2025-12-16 12:03:48,601 - llm_fallback - INFO - Fallback LLM configured: openai/gpt-5
2025-12-16 12:03:48,601 - server - INFO - AI Chat initialized: Provider=emergent, Model=gpt-5
2025-12-16 12:03:48,607 - server - INFO - MT5 credentials loaded: Server=ICMarketsEU-Demo, Login=52565616
2025-12-16 12:03:48,607 - server - INFO - ‚úÖ Connection health check started
2025-12-16 12:03:48,607 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:03:48,607 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:03:48,627 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:03:48,628 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:03:48,998 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:03:48,998 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:03:48,999 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:03:48,999 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:03:49,025 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:03:49,026 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:03:49,026 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:03:49,026 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:03:49,027 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_LIBERTEX_DEMO (returned False)
2025-12-16 12:03:49,027 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_ICMARKETS_DEMO (returned False)
2025-12-16 12:03:49,027 - server - INFO - Platform connector initialized and platforms connected for MetaAPI chart data (SDK)
2025-12-16 12:03:49,027 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:03:49,344 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.03
2025-12-16 12:03:49,344 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:03:49,347 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:49,348 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:03:49,349 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:49,416 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1839.30
2025-12-16 12:03:49,425 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4304.90
2025-12-16 12:03:49,425 - server - INFO - ‚úÖ PLATINUM: $1839.30 (source: yfinance)
2025-12-16 12:03:49,428 - server - INFO - ‚úÖ GOLD: $4304.90 (source: yfinance)
2025-12-16 12:03:49,430 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:49,430 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:03:49,430 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:49,430 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:49,430 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:03:49,431 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:51,550 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.68
2025-12-16 12:03:51,550 - server - INFO - ‚úÖ BRENT_CRUDE: $59.68 (source: yfinance)
2025-12-16 12:03:51,553 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:51,553 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:03:51,553 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:51,604 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1624.50
2025-12-16 12:03:51,605 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:03:51,607 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:51,607 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:03:51,608 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:51,731 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.81
2025-12-16 12:03:51,731 - server - INFO - ‚úÖ WTI_CRUDE: $55.81 (source: yfinance)
2025-12-16 12:03:51,733 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:51,733 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:03:51,734 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:53,834 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.96
2025-12-16 12:03:53,835 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:03:53,846 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $517.75
2025-12-16 12:03:53,847 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:53,847 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:03:53,847 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:53,847 - server - INFO - ‚úÖ WHEAT: $517.75 (source: yfinance)
2025-12-16 12:03:53,850 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:53,850 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:03:53,850 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:53,865 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:03:53,865 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:03:53,868 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:53,868 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:03:53,868 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:55,969 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $438.75
2025-12-16 12:03:55,970 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:03:55,980 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1073.00
2025-12-16 12:03:55,981 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:03:55,991 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $356.80
2025-12-16 12:03:55,992 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:55,992 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:03:55,992 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:55,992 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:03:55,994 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:55,995 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:03:55,995 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:55,995 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:55,995 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:03:55,995 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:58,128 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.93
2025-12-16 12:03:58,129 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:03:58,131 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:58,131 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:03:58,132 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:58,158 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:03:58,159 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:03:58,161 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:58,161 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:03:58,161 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:03:58,188 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5884.00
2025-12-16 12:03:58,189 - server - INFO - ‚úÖ COCOA: $5884.00 (source: yfinance)
2025-12-16 12:03:58,191 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:03:58,191 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:03:58,192 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:00,404 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87287.34
2025-12-16 12:04:00,404 - server - INFO - ‚úÖ BITCOIN: $87287.34 (source: yfinance)
2025-12-16 12:04:00,406 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:00,407 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:04:00,407 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:00,408 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:04:00,408 - server - INFO - ‚úÖ Market Data Updater started (updates every 30 seconds)
2025-12-16 12:04:00,408 - server - INFO - üî¥ Auto-Trading Engine ist DEAKTIVIERT (erstellt Fake-Trades)
2025-12-16 12:04:00,408 - server - INFO - API ready - market data available via /api/market/current and /api/market/refresh
2025-12-16 12:04:00,408 - server - INFO - AI analysis enabled for intelligent trading decisions
2025-12-16 12:04:00,408 - server - INFO - ü§ñ Starting Trade Settings Monitor...
2025-12-16 12:04:00,409 - server - INFO - ‚úÖ Trade Settings Monitor started - √ºberwacht alle Trades automatisch!
2025-12-16 12:04:00,409 - server - INFO - üîÑ Market Data Updater started - ECHTZEIT MODE (15s)
2025-12-16 12:04:00,409 - trade_settings_manager - INFO - ü§ñ Trade Settings Monitor gestartet
2025-12-16 12:04:15,410 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:04:15,410 - server - INFO - ‚úÖ GOLD: $4304.90 (source: yfinance)
2025-12-16 12:04:15,411 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:04:15,411 - server - INFO - ‚úÖ PLATINUM: $1839.30 (source: yfinance)
2025-12-16 12:04:15,412 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:15,412 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:04:15,412 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:15,412 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:15,412 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:04:15,413 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:15,413 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:15,413 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:04:15,413 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:17,414 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:04:17,415 - server - INFO - ‚úÖ WTI_CRUDE: $55.81 (source: yfinance)
2025-12-16 12:04:17,415 - server - INFO - ‚úÖ BRENT_CRUDE: $59.68 (source: yfinance)
2025-12-16 12:04:17,416 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:17,416 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:04:17,416 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:17,416 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:17,417 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:04:17,417 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:17,417 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:17,417 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:04:17,417 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:19,418 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:04:19,419 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:04:19,420 - server - INFO - ‚úÖ WHEAT: $517.75 (source: yfinance)
2025-12-16 12:04:19,420 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:19,420 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:04:19,421 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:19,421 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:19,421 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:04:19,421 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:19,421 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:19,421 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:04:19,421 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:21,423 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:04:21,424 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:04:21,424 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:04:21,425 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:21,425 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:04:21,425 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:21,425 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:21,425 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:04:21,425 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:21,425 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:21,425 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:04:21,426 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:23,426 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:04:23,427 - server - INFO - ‚úÖ COCOA: $5884.00 (source: yfinance)
2025-12-16 12:04:23,428 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:04:23,430 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:23,430 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:04:23,431 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:23,431 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:23,431 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:04:23,431 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:23,431 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:23,431 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:04:23,431 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:25,433 - server - INFO - ‚úÖ BITCOIN: $87287.34 (source: yfinance)
2025-12-16 12:04:25,434 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:25,434 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:04:25,434 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:25,435 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:04:40,437 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:04:40,438 - server - INFO - ‚úÖ GOLD: $4304.90 (source: yfinance)
2025-12-16 12:04:40,440 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:04:40,440 - server - INFO - ‚úÖ PLATINUM: $1839.30 (source: yfinance)
2025-12-16 12:04:40,441 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:40,441 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:04:40,441 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:40,441 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:40,441 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:04:40,441 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:40,442 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:40,442 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:04:40,442 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:42,443 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:04:42,444 - server - INFO - ‚úÖ WTI_CRUDE: $55.81 (source: yfinance)
2025-12-16 12:04:42,444 - server - INFO - ‚úÖ BRENT_CRUDE: $59.68 (source: yfinance)
2025-12-16 12:04:42,445 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:42,445 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:04:42,445 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:42,445 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:42,445 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:04:42,446 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:42,446 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:42,446 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:04:42,446 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:44,447 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:04:44,448 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:04:44,448 - server - INFO - ‚úÖ WHEAT: $517.75 (source: yfinance)
2025-12-16 12:04:44,449 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:44,449 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:04:44,449 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:44,450 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:44,450 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:04:44,450 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:44,450 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:44,450 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:04:44,450 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:46,452 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:04:46,452 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:04:46,453 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:04:46,453 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:46,453 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:04:46,454 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:46,454 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:46,454 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:04:46,454 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:46,454 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:46,454 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:04:46,454 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:48,456 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:04:48,457 - server - INFO - ‚úÖ COCOA: $5884.00 (source: yfinance)
2025-12-16 12:04:48,457 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:04:48,458 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:48,458 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:04:48,458 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:48,458 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:48,458 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:04:48,459 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:48,459 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:48,459 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:04:48,459 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:48,607 - server - INFO - üîç Connection health check...
2025-12-16 12:04:48,608 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:04:48,608 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:04:48,608 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:04:48,997 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:04:48,998 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:04:48,998 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:04:48,998 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:04:48,999 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:04:48,999 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:04:48,999 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:04:49,391 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:04:49,391 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:04:49,392 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:04:49,392 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:04:49,392 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:04:50,461 - server - INFO - ‚úÖ BITCOIN: $87287.34 (source: yfinance)
2025-12-16 12:04:50,462 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:04:50,462 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:04:50,462 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:04:50,463 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:05:05,464 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:05:05,465 - server - INFO - ‚úÖ GOLD: $4304.90 (source: yfinance)
2025-12-16 12:05:05,466 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:05:05,466 - server - INFO - ‚úÖ PLATINUM: $1839.30 (source: yfinance)
2025-12-16 12:05:05,467 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:05,467 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:05:05,467 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:05,467 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:05,467 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:05:05,467 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:05,467 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:05,467 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:05:05,468 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:07,469 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:05:07,470 - server - INFO - ‚úÖ WTI_CRUDE: $55.81 (source: yfinance)
2025-12-16 12:05:07,470 - server - INFO - ‚úÖ BRENT_CRUDE: $59.68 (source: yfinance)
2025-12-16 12:05:07,471 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:07,471 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:05:07,471 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:07,471 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:07,471 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:05:07,472 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:07,472 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:07,472 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:05:07,472 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:09,473 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:05:09,474 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:05:09,474 - server - INFO - ‚úÖ WHEAT: $517.75 (source: yfinance)
2025-12-16 12:05:09,475 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:09,475 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:05:09,476 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:09,476 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:09,476 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:05:09,476 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:09,476 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:09,476 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:05:09,476 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:11,477 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:05:11,478 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:05:11,478 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:05:11,479 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:11,479 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:05:11,479 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:11,479 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:11,479 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:05:11,479 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:11,479 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:11,480 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:05:11,480 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:13,480 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:05:13,512 - server - INFO - ‚úÖ COCOA: $5884.00 (source: yfinance)
2025-12-16 12:05:13,513 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:05:13,514 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:13,514 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:05:13,514 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:13,514 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:13,514 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:05:13,515 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:13,515 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:13,515 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:05:13,515 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:15,516 - server - INFO - ‚úÖ BITCOIN: $87287.34 (source: yfinance)
2025-12-16 12:05:15,517 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:15,517 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:05:15,517 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:15,518 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:05:30,519 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:05:30,519 - server - INFO - ‚úÖ GOLD: $4304.90 (source: yfinance)
2025-12-16 12:05:30,520 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:05:30,520 - server - INFO - ‚úÖ PLATINUM: $1839.30 (source: yfinance)
2025-12-16 12:05:30,521 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:30,521 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:05:30,521 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:30,522 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:30,522 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:05:30,522 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:30,522 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:30,522 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:05:30,522 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:32,523 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:05:32,523 - server - INFO - ‚úÖ WTI_CRUDE: $55.81 (source: yfinance)
2025-12-16 12:05:32,524 - server - INFO - ‚úÖ BRENT_CRUDE: $59.68 (source: yfinance)
2025-12-16 12:05:32,524 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:32,524 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:05:32,525 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:32,525 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:32,525 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:05:32,525 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:32,525 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:32,525 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:05:32,525 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:34,527 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:05:34,527 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:05:34,528 - server - INFO - ‚úÖ WHEAT: $517.75 (source: yfinance)
2025-12-16 12:05:34,528 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:34,529 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:05:34,529 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:34,529 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:34,529 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:05:34,529 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:34,529 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:34,529 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:05:34,530 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:36,530 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:05:36,531 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:05:36,531 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:05:36,532 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:36,532 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:05:36,532 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:36,532 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:36,532 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:05:36,533 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:36,533 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:36,533 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:05:36,533 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:38,534 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:05:38,534 - server - INFO - ‚úÖ COCOA: $5884.00 (source: yfinance)
2025-12-16 12:05:38,535 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:05:38,535 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:38,535 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:05:38,536 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:38,536 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:38,536 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:05:38,536 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:38,536 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:38,536 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:05:38,537 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:40,538 - server - INFO - ‚úÖ BITCOIN: $87287.34 (source: yfinance)
2025-12-16 12:05:40,539 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:40,541 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:05:40,541 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:40,542 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:05:49,393 - server - INFO - üîç Connection health check...
2025-12-16 12:05:49,394 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:05:49,394 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:05:49,394 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:05:49,793 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:05:49,793 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:05:49,794 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:05:49,794 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:05:49,794 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:05:49,794 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:05:49,794 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:05:50,132 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:05:50,133 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:05:50,133 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:05:50,133 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:05:50,133 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:05:55,545 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:05:55,545 - server - INFO - ‚úÖ GOLD: $4304.90 (source: yfinance)
2025-12-16 12:05:55,546 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:05:55,546 - server - INFO - ‚úÖ PLATINUM: $1839.30 (source: yfinance)
2025-12-16 12:05:55,547 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:55,547 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:05:55,547 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:55,547 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:55,547 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:05:55,548 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:55,548 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:55,548 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:05:55,548 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:57,549 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:05:57,550 - server - INFO - ‚úÖ WTI_CRUDE: $55.81 (source: yfinance)
2025-12-16 12:05:57,550 - server - INFO - ‚úÖ BRENT_CRUDE: $59.68 (source: yfinance)
2025-12-16 12:05:57,551 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:57,551 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:05:57,552 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:57,552 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:57,552 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:05:57,552 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:57,552 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:57,552 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:05:57,552 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:59,555 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:05:59,555 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:05:59,556 - server - INFO - ‚úÖ WHEAT: $517.75 (source: yfinance)
2025-12-16 12:05:59,556 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:59,556 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:05:59,557 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:59,557 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:59,557 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:05:59,557 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:05:59,557 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:05:59,557 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:05:59,557 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:01,559 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:06:01,562 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:06:01,562 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:06:01,563 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:01,563 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:06:01,563 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:01,563 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:01,563 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:06:01,564 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:01,564 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:01,564 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:06:01,564 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:03,565 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:06:03,566 - server - INFO - ‚úÖ COCOA: $5884.00 (source: yfinance)
2025-12-16 12:06:03,566 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:06:03,567 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:03,567 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:06:03,567 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:03,568 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:03,568 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:06:03,568 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:03,568 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:03,568 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:06:03,568 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:05,570 - server - INFO - ‚úÖ BITCOIN: $87287.34 (source: yfinance)
2025-12-16 12:06:05,570 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:05,571 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:06:05,571 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:05,572 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:06:20,574 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:06:20,574 - server - INFO - ‚úÖ GOLD: $4304.90 (source: yfinance)
2025-12-16 12:06:20,575 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:06:20,575 - server - INFO - ‚úÖ PLATINUM: $1839.30 (source: yfinance)
2025-12-16 12:06:20,576 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:20,576 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:06:20,576 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:20,576 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:20,576 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:06:20,577 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:20,577 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:20,577 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:06:20,577 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:22,578 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:06:22,579 - server - INFO - ‚úÖ WTI_CRUDE: $55.81 (source: yfinance)
2025-12-16 12:06:22,579 - server - INFO - ‚úÖ BRENT_CRUDE: $59.68 (source: yfinance)
2025-12-16 12:06:22,580 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:22,580 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:06:22,580 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:22,580 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:22,581 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:06:22,581 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:22,581 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:22,581 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:06:22,581 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:24,583 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:06:24,583 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:06:24,583 - server - INFO - ‚úÖ WHEAT: $517.75 (source: yfinance)
2025-12-16 12:06:24,584 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:24,584 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:06:24,585 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:24,585 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:24,585 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:06:24,585 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:24,585 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:24,585 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:06:24,585 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:26,587 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:06:26,587 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:06:26,588 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:06:26,588 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:26,588 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:06:26,589 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:26,589 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:26,589 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:06:26,589 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:26,589 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:26,589 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:06:26,590 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:28,591 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:06:28,592 - server - INFO - ‚úÖ COCOA: $5884.00 (source: yfinance)
2025-12-16 12:06:28,592 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:06:28,593 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:28,593 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:06:28,593 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:28,593 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:28,593 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:06:28,594 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:28,594 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:28,594 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:06:28,594 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:30,594 - server - INFO - ‚úÖ BITCOIN: $87287.34 (source: yfinance)
2025-12-16 12:06:30,595 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:30,595 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:06:30,596 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:30,597 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:06:45,599 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:06:45,600 - server - INFO - ‚úÖ GOLD: $4304.90 (source: yfinance)
2025-12-16 12:06:45,600 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:06:45,601 - server - INFO - ‚úÖ PLATINUM: $1839.30 (source: yfinance)
2025-12-16 12:06:45,601 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:45,602 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:06:45,602 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:45,602 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:45,602 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:06:45,602 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:45,602 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:45,602 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:06:45,603 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:47,604 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:06:47,605 - server - INFO - ‚úÖ WTI_CRUDE: $55.81 (source: yfinance)
2025-12-16 12:06:47,605 - server - INFO - ‚úÖ BRENT_CRUDE: $59.68 (source: yfinance)
2025-12-16 12:06:47,606 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:47,606 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:06:47,606 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:47,606 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:47,606 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:06:47,606 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:47,607 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:47,607 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:06:47,607 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:49,609 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:06:49,610 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:06:49,610 - server - INFO - ‚úÖ WHEAT: $517.75 (source: yfinance)
2025-12-16 12:06:49,611 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:49,611 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:06:49,611 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:49,611 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:49,611 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:06:49,612 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:49,612 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:49,612 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:06:49,612 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:50,134 - server - INFO - üîç Connection health check...
2025-12-16 12:06:50,135 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:06:50,135 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:06:50,135 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:06:50,594 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:06:50,595 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:06:50,595 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:06:50,595 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:06:50,595 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:06:50,595 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:06:50,595 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:06:50,969 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:06:50,970 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:06:50,971 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:06:50,971 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:06:50,971 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:06:51,614 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:06:51,614 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:06:51,615 - server - INFO - ‚úÖ COFFEE: $356.80 (source: yfinance)
2025-12-16 12:06:51,615 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:51,615 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:06:51,616 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:51,616 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:51,616 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:06:51,616 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:51,616 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:51,616 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:06:51,616 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:53,618 - server - INFO - ‚úÖ SUGAR: $14.93 (source: yfinance)
2025-12-16 12:06:53,618 - server - INFO - ‚úÖ COCOA: $5884.00 (source: yfinance)
2025-12-16 12:06:53,619 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:06:53,619 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:53,619 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:06:53,620 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:53,620 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:53,620 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:06:53,620 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:53,620 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:53,620 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:06:53,620 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:55,622 - server - INFO - ‚úÖ BITCOIN: $87287.34 (source: yfinance)
2025-12-16 12:06:55,623 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:06:55,623 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:06:55,623 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:06:55,625 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:07:10,626 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:07:10,726 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.04
2025-12-16 12:07:10,727 - server - INFO - ‚úÖ SILVER: $63.04 (source: yfinance)
2025-12-16 12:07:10,735 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1839.00
2025-12-16 12:07:10,737 - server - INFO - ‚úÖ PLATINUM: $1839.00 (source: yfinance)
2025-12-16 12:07:10,740 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:10,740 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:07:10,740 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:10,740 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:10,741 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:07:10,741 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:10,791 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4305.70
2025-12-16 12:07:10,792 - server - INFO - ‚úÖ GOLD: $4305.70 (source: yfinance)
2025-12-16 12:07:10,794 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:10,794 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:07:10,795 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:12,875 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1624.50
2025-12-16 12:07:12,876 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:07:12,884 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.80
2025-12-16 12:07:12,886 - server - INFO - ‚úÖ WTI_CRUDE: $55.80 (source: yfinance)
2025-12-16 12:07:12,889 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:12,889 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:07:12,889 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:12,889 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:12,889 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:07:12,890 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:12,909 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.67
2025-12-16 12:07:12,909 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:07:12,911 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:12,912 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:07:12,912 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:15,008 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $518.25
2025-12-16 12:07:15,008 - server - INFO - ‚úÖ WHEAT: $518.25 (source: yfinance)
2025-12-16 12:07:15,011 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:15,011 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:07:15,011 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:15,020 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.97
2025-12-16 12:07:15,020 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:07:15,023 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:15,023 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:07:15,023 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:15,075 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:07:15,076 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:07:15,078 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:15,078 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:07:15,079 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:17,136 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1072.75
2025-12-16 12:07:17,137 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:07:17,139 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:17,139 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:07:17,140 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:17,175 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $439.00
2025-12-16 12:07:17,175 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:07:17,178 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:17,178 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:07:17,178 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:17,235 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $341.05
2025-12-16 12:07:17,236 - server - INFO - ‚úÖ COFFEE: $341.05 (source: yfinance)
2025-12-16 12:07:17,238 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:17,238 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:07:17,238 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:19,322 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.94
2025-12-16 12:07:19,326 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5897.00
2025-12-16 12:07:19,327 - server - INFO - ‚úÖ SUGAR: $14.94 (source: yfinance)
2025-12-16 12:07:19,329 - server - INFO - ‚úÖ COCOA: $5897.00 (source: yfinance)
2025-12-16 12:07:19,332 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:19,332 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:07:19,332 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:19,332 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:19,332 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:07:19,333 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:19,347 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:07:19,347 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:07:19,350 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:19,350 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:07:19,351 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:21,453 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87249.49
2025-12-16 12:07:21,454 - server - INFO - ‚úÖ BITCOIN: $87249.49 (source: yfinance)
2025-12-16 12:07:21,456 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:21,456 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:07:21,457 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:21,458 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:07:36,460 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:07:36,461 - server - INFO - ‚úÖ GOLD: $4305.70 (source: yfinance)
2025-12-16 12:07:36,461 - server - INFO - ‚úÖ SILVER: $63.04 (source: yfinance)
2025-12-16 12:07:36,462 - server - INFO - ‚úÖ PLATINUM: $1839.00 (source: yfinance)
2025-12-16 12:07:36,462 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:36,462 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:07:36,463 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:36,463 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:36,463 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:07:36,463 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:36,463 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:36,463 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:07:36,463 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:38,465 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:07:38,465 - server - INFO - ‚úÖ WTI_CRUDE: $55.80 (source: yfinance)
2025-12-16 12:07:38,466 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:07:38,467 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:38,467 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:07:38,467 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:38,467 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:38,467 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:07:38,467 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:38,468 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:38,468 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:07:38,468 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:40,469 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:07:40,470 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:07:40,470 - server - INFO - ‚úÖ WHEAT: $518.25 (source: yfinance)
2025-12-16 12:07:40,471 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:40,471 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:07:40,472 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:40,472 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:40,472 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:07:40,472 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:40,472 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:40,472 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:07:40,472 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:42,474 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:07:42,474 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:07:42,475 - server - INFO - ‚úÖ COFFEE: $341.05 (source: yfinance)
2025-12-16 12:07:42,475 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:42,475 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:07:42,476 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:42,476 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:42,476 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:07:42,476 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:42,476 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:42,476 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:07:42,476 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:44,478 - server - INFO - ‚úÖ SUGAR: $14.94 (source: yfinance)
2025-12-16 12:07:44,479 - server - INFO - ‚úÖ COCOA: $5897.00 (source: yfinance)
2025-12-16 12:07:44,479 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:07:44,480 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:44,480 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:07:44,480 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:44,480 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:44,480 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:07:44,480 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:44,480 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:44,481 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:07:44,481 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:46,482 - server - INFO - ‚úÖ BITCOIN: $87249.49 (source: yfinance)
2025-12-16 12:07:46,483 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:07:46,483 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:07:46,484 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:07:46,485 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:07:50,971 - server - INFO - üîç Connection health check...
2025-12-16 12:07:50,972 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:07:50,972 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:07:50,972 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:07:51,378 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:07:51,379 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:07:51,379 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:07:51,380 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:07:51,380 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:07:51,380 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:07:51,380 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:07:51,734 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:07:51,734 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:07:51,735 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:07:51,735 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:07:51,735 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:08:01,486 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:08:01,487 - server - INFO - ‚úÖ GOLD: $4305.70 (source: yfinance)
2025-12-16 12:08:01,487 - server - INFO - ‚úÖ SILVER: $63.04 (source: yfinance)
2025-12-16 12:08:01,488 - server - INFO - ‚úÖ PLATINUM: $1839.00 (source: yfinance)
2025-12-16 12:08:01,488 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:01,488 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:08:01,489 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:01,489 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:01,489 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:08:01,489 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:01,489 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:01,489 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:08:01,489 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:03,490 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:08:03,491 - server - INFO - ‚úÖ WTI_CRUDE: $55.80 (source: yfinance)
2025-12-16 12:08:03,491 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:08:03,492 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:03,492 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:08:03,492 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:03,492 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:03,492 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:08:03,492 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:03,492 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:03,492 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:08:03,493 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:05,493 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:08:05,494 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:08:05,494 - server - INFO - ‚úÖ WHEAT: $518.25 (source: yfinance)
2025-12-16 12:08:05,495 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:05,495 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:08:05,495 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:05,495 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:05,495 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:08:05,496 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:05,496 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:05,496 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:08:05,496 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:07,497 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:08:07,498 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:08:07,498 - server - INFO - ‚úÖ COFFEE: $341.05 (source: yfinance)
2025-12-16 12:08:07,499 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:07,499 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:08:07,499 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:07,499 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:07,499 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:08:07,500 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:07,500 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:07,500 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:08:07,500 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:09,501 - server - INFO - ‚úÖ SUGAR: $14.94 (source: yfinance)
2025-12-16 12:08:09,502 - server - INFO - ‚úÖ COCOA: $5897.00 (source: yfinance)
2025-12-16 12:08:09,503 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:08:09,504 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:09,504 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:08:09,506 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:09,506 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:09,506 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:08:09,506 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:09,506 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:09,506 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:08:09,507 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:11,508 - server - INFO - ‚úÖ BITCOIN: $87249.49 (source: yfinance)
2025-12-16 12:08:11,509 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:11,511 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:08:11,511 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:11,512 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:08:26,514 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:08:26,514 - server - INFO - ‚úÖ GOLD: $4305.70 (source: yfinance)
2025-12-16 12:08:26,515 - server - INFO - ‚úÖ SILVER: $63.04 (source: yfinance)
2025-12-16 12:08:26,515 - server - INFO - ‚úÖ PLATINUM: $1839.00 (source: yfinance)
2025-12-16 12:08:26,516 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:26,516 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:08:26,516 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:26,516 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:26,516 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:08:26,517 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:26,517 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:26,517 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:08:26,517 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:28,518 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:08:28,519 - server - INFO - ‚úÖ WTI_CRUDE: $55.80 (source: yfinance)
2025-12-16 12:08:28,519 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:08:28,520 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:28,520 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:08:28,521 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:28,521 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:28,521 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:08:28,521 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:28,521 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:28,521 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:08:28,521 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:30,522 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:08:30,523 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:08:30,523 - server - INFO - ‚úÖ WHEAT: $518.25 (source: yfinance)
2025-12-16 12:08:30,524 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:30,524 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:08:30,524 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:30,524 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:30,524 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:08:30,524 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:30,524 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:30,524 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:08:30,525 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:32,526 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:08:32,527 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:08:32,527 - server - INFO - ‚úÖ COFFEE: $341.05 (source: yfinance)
2025-12-16 12:08:32,528 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:32,528 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:08:32,528 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:32,528 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:32,528 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:08:32,529 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:32,529 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:32,529 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:08:32,529 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:34,530 - server - INFO - ‚úÖ SUGAR: $14.94 (source: yfinance)
2025-12-16 12:08:34,531 - server - INFO - ‚úÖ COCOA: $5897.00 (source: yfinance)
2025-12-16 12:08:34,531 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:08:34,532 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:34,532 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:08:34,532 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:34,533 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:34,533 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:08:34,533 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:34,533 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:34,533 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:08:34,533 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:36,535 - server - INFO - ‚úÖ BITCOIN: $87249.49 (source: yfinance)
2025-12-16 12:08:36,535 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:36,536 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:08:36,536 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:36,537 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:08:51,538 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:08:51,539 - server - INFO - ‚úÖ GOLD: $4305.70 (source: yfinance)
2025-12-16 12:08:51,539 - server - INFO - ‚úÖ SILVER: $63.04 (source: yfinance)
2025-12-16 12:08:51,539 - server - INFO - ‚úÖ PLATINUM: $1839.00 (source: yfinance)
2025-12-16 12:08:51,540 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:51,540 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:08:51,540 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:51,540 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:51,541 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:08:51,541 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:51,541 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:51,541 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:08:51,541 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:51,736 - server - INFO - üîç Connection health check...
2025-12-16 12:08:51,736 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:08:51,736 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:08:51,736 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:08:52,109 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:08:52,110 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:08:52,111 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:08:52,111 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:08:52,111 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:08:52,111 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:08:52,111 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:08:52,480 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:08:52,481 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:08:52,481 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:08:52,481 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:08:52,481 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:08:53,542 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:08:53,543 - server - INFO - ‚úÖ WTI_CRUDE: $55.80 (source: yfinance)
2025-12-16 12:08:53,543 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:08:53,544 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:53,544 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:08:53,544 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:53,544 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:53,544 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:08:53,544 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:53,544 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:53,544 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:08:53,545 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:55,546 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:08:55,547 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:08:55,547 - server - INFO - ‚úÖ WHEAT: $518.25 (source: yfinance)
2025-12-16 12:08:55,548 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:55,548 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:08:55,548 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:55,548 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:55,548 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:08:55,548 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:55,548 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:55,548 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:08:55,549 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:57,550 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:08:57,551 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:08:57,551 - server - INFO - ‚úÖ COFFEE: $341.05 (source: yfinance)
2025-12-16 12:08:57,552 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:57,552 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:08:57,552 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:57,552 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:57,552 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:08:57,553 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:57,553 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:57,553 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:08:57,553 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:59,554 - server - INFO - ‚úÖ SUGAR: $14.94 (source: yfinance)
2025-12-16 12:08:59,554 - server - INFO - ‚úÖ COCOA: $5897.00 (source: yfinance)
2025-12-16 12:08:59,555 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:08:59,555 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:59,556 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:08:59,556 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:59,556 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:59,556 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:08:59,556 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:08:59,556 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:08:59,556 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:08:59,557 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:01,557 - server - INFO - ‚úÖ BITCOIN: $87249.49 (source: yfinance)
2025-12-16 12:09:01,558 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:01,558 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:09:01,559 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:01,560 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:09:16,561 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:09:16,561 - server - INFO - ‚úÖ GOLD: $4305.70 (source: yfinance)
2025-12-16 12:09:16,564 - server - INFO - ‚úÖ SILVER: $63.04 (source: yfinance)
2025-12-16 12:09:16,564 - server - INFO - ‚úÖ PLATINUM: $1839.00 (source: yfinance)
2025-12-16 12:09:16,565 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:16,565 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:09:16,565 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:16,565 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:16,565 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:09:16,566 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:16,566 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:16,566 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:09:16,566 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:18,567 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:09:18,568 - server - INFO - ‚úÖ WTI_CRUDE: $55.80 (source: yfinance)
2025-12-16 12:09:18,568 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:09:18,569 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:18,569 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:09:18,570 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:18,570 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:18,570 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:09:18,570 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:18,570 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:18,570 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:09:18,570 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:20,573 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:09:20,573 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:09:20,574 - server - INFO - ‚úÖ WHEAT: $518.25 (source: yfinance)
2025-12-16 12:09:20,575 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:20,575 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:09:20,576 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:20,576 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:20,576 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:09:20,577 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:20,577 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:20,577 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:09:20,577 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:22,578 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:09:22,578 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:09:22,579 - server - INFO - ‚úÖ COFFEE: $341.05 (source: yfinance)
2025-12-16 12:09:22,579 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:22,580 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:09:22,580 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:22,580 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:22,580 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:09:22,580 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:22,580 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:22,580 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:09:22,581 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:24,581 - server - INFO - ‚úÖ SUGAR: $14.94 (source: yfinance)
2025-12-16 12:09:24,582 - server - INFO - ‚úÖ COCOA: $5897.00 (source: yfinance)
2025-12-16 12:09:24,582 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:09:24,583 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:24,583 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:09:24,583 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:24,583 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:24,583 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:09:24,584 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:24,584 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:24,584 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:09:24,584 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:26,585 - server - INFO - ‚úÖ BITCOIN: $87249.49 (source: yfinance)
2025-12-16 12:09:26,586 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:26,586 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:09:26,587 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:26,588 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:09:41,589 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:09:41,589 - server - INFO - ‚úÖ GOLD: $4305.70 (source: yfinance)
2025-12-16 12:09:41,590 - server - INFO - ‚úÖ SILVER: $63.04 (source: yfinance)
2025-12-16 12:09:41,590 - server - INFO - ‚úÖ PLATINUM: $1839.00 (source: yfinance)
2025-12-16 12:09:41,591 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:41,591 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:09:41,591 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:41,591 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:41,591 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:09:41,592 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:41,592 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:41,592 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:09:41,592 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:43,593 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:09:43,593 - server - INFO - ‚úÖ WTI_CRUDE: $55.80 (source: yfinance)
2025-12-16 12:09:43,594 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:09:43,594 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:43,594 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:09:43,595 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:43,595 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:43,595 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:09:43,595 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:43,595 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:43,595 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:09:43,595 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:45,597 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:09:45,598 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:09:45,598 - server - INFO - ‚úÖ WHEAT: $518.25 (source: yfinance)
2025-12-16 12:09:45,599 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:45,599 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:09:45,599 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:45,599 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:45,599 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:09:45,599 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:45,599 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:45,599 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:09:45,600 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:47,601 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:09:47,602 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:09:47,602 - server - INFO - ‚úÖ COFFEE: $341.05 (source: yfinance)
2025-12-16 12:09:47,603 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:47,603 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:09:47,603 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:47,603 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:47,603 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:09:47,604 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:47,604 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:47,604 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:09:47,604 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:49,605 - server - INFO - ‚úÖ SUGAR: $14.94 (source: yfinance)
2025-12-16 12:09:49,606 - server - INFO - ‚úÖ COCOA: $5897.00 (source: yfinance)
2025-12-16 12:09:49,606 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:09:49,607 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:49,607 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:09:49,608 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:49,608 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:49,608 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:09:49,608 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:49,608 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:49,608 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:09:49,608 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:51,609 - server - INFO - ‚úÖ BITCOIN: $87249.49 (source: yfinance)
2025-12-16 12:09:51,610 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:09:51,610 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:09:51,610 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:09:51,611 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:09:52,482 - server - INFO - üîç Connection health check...
2025-12-16 12:09:52,483 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:09:52,483 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:09:52,483 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:09:52,919 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:09:52,920 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:09:52,920 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:09:52,920 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:09:52,920 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:09:52,921 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:09:52,921 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:09:53,308 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:09:53,308 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:09:53,309 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:09:53,309 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:09:53,309 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:10:06,613 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:10:06,613 - server - INFO - ‚úÖ GOLD: $4305.70 (source: yfinance)
2025-12-16 12:10:06,614 - server - INFO - ‚úÖ SILVER: $63.04 (source: yfinance)
2025-12-16 12:10:06,614 - server - INFO - ‚úÖ PLATINUM: $1839.00 (source: yfinance)
2025-12-16 12:10:06,615 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:06,615 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:10:06,615 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:06,616 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:06,616 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:10:06,616 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:06,616 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:06,616 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:10:06,616 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:08,617 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:10:08,617 - server - INFO - ‚úÖ WTI_CRUDE: $55.80 (source: yfinance)
2025-12-16 12:10:08,618 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:10:08,618 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:08,619 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:10:08,619 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:08,619 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:08,619 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:10:08,619 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:08,619 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:08,619 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:10:08,620 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:10,620 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:10:10,621 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:10:10,623 - server - INFO - ‚úÖ WHEAT: $518.25 (source: yfinance)
2025-12-16 12:10:10,624 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:10,624 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:10:10,624 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:10,624 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:10,624 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:10:10,625 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:10,625 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:10,625 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:10:10,625 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:12,626 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:10:12,627 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:10:12,627 - server - INFO - ‚úÖ COFFEE: $341.05 (source: yfinance)
2025-12-16 12:10:12,628 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:12,628 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:10:12,628 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:12,629 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:12,629 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:10:12,629 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:12,629 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:12,629 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:10:12,629 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:14,631 - server - INFO - ‚úÖ SUGAR: $14.94 (source: yfinance)
2025-12-16 12:10:14,631 - server - INFO - ‚úÖ COCOA: $5897.00 (source: yfinance)
2025-12-16 12:10:14,632 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:10:14,632 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:14,632 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:10:14,633 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:14,633 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:14,633 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:10:14,633 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:14,633 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:14,633 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:10:14,633 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:16,634 - server - INFO - ‚úÖ BITCOIN: $87249.49 (source: yfinance)
2025-12-16 12:10:16,635 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:16,635 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:10:16,635 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:16,637 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:10:31,638 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:10:31,752 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.07
2025-12-16 12:10:31,753 - server - INFO - ‚úÖ SILVER: $63.07 (source: yfinance)
2025-12-16 12:10:31,755 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:31,759 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:10:31,759 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:31,786 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1841.40
2025-12-16 12:10:31,787 - server - INFO - ‚úÖ PLATINUM: $1841.40 (source: yfinance)
2025-12-16 12:10:31,789 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:31,789 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:10:31,790 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:31,992 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4307.20
2025-12-16 12:10:31,993 - server - INFO - ‚úÖ GOLD: $4307.20 (source: yfinance)
2025-12-16 12:10:31,995 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:31,995 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:10:31,995 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:34,053 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.74
2025-12-16 12:10:34,054 - server - INFO - ‚úÖ WTI_CRUDE: $55.74 (source: yfinance)
2025-12-16 12:10:34,057 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:34,057 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:10:34,057 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:34,105 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.65
2025-12-16 12:10:34,106 - server - INFO - ‚úÖ BRENT_CRUDE: $59.65 (source: yfinance)
2025-12-16 12:10:34,108 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:34,108 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:10:34,108 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:34,121 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1624.50
2025-12-16 12:10:34,121 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:10:34,123 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:34,124 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:10:34,124 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:36,182 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $518.00
2025-12-16 12:10:36,183 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:10:36,194 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.97
2025-12-16 12:10:36,194 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:10:36,196 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:36,196 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:10:36,197 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:36,197 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:36,197 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:10:36,197 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:36,275 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:10:36,276 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:10:36,278 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:36,278 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:10:36,279 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:38,385 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1072.75
2025-12-16 12:10:38,393 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $438.75
2025-12-16 12:10:38,394 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:10:38,396 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:10:38,398 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:38,398 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:10:38,399 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:38,399 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:38,399 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:10:38,399 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:38,434 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $356.90
2025-12-16 12:10:38,434 - server - INFO - ‚úÖ COFFEE: $356.90 (source: yfinance)
2025-12-16 12:10:38,437 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:38,437 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:10:38,437 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:40,489 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.95
2025-12-16 12:10:40,490 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:10:40,492 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:40,492 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:10:40,493 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:40,544 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:10:40,545 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:10:40,547 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:40,547 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:10:40,548 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:40,658 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5909.00
2025-12-16 12:10:40,658 - server - INFO - ‚úÖ COCOA: $5909.00 (source: yfinance)
2025-12-16 12:10:40,661 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:40,661 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:10:40,661 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:42,750 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87281.01
2025-12-16 12:10:42,750 - server - INFO - ‚úÖ BITCOIN: $87281.01 (source: yfinance)
2025-12-16 12:10:42,753 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:42,753 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:10:42,753 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:42,755 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:10:53,310 - server - INFO - üîç Connection health check...
2025-12-16 12:10:53,311 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:10:53,311 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:10:53,311 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:10:53,660 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:10:53,661 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:10:53,661 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:10:53,661 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:10:53,661 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:10:53,661 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:10:53,661 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:10:54,030 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:10:54,031 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:10:54,031 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:10:54,031 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:10:54,031 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:10:57,755 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:10:57,756 - server - INFO - ‚úÖ GOLD: $4307.20 (source: yfinance)
2025-12-16 12:10:57,757 - server - INFO - ‚úÖ SILVER: $63.07 (source: yfinance)
2025-12-16 12:10:57,757 - server - INFO - ‚úÖ PLATINUM: $1841.40 (source: yfinance)
2025-12-16 12:10:57,758 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:57,758 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:10:57,758 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:57,758 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:57,758 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:10:57,758 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:57,759 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:57,759 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:10:57,759 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:59,759 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:10:59,760 - server - INFO - ‚úÖ WTI_CRUDE: $55.74 (source: yfinance)
2025-12-16 12:10:59,761 - server - INFO - ‚úÖ BRENT_CRUDE: $59.65 (source: yfinance)
2025-12-16 12:10:59,761 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:59,761 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:10:59,762 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:59,762 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:59,762 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:10:59,762 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:10:59,762 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:10:59,762 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:10:59,762 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:01,763 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:11:01,764 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:11:01,764 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:11:01,765 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:01,765 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:11:01,765 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:01,765 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:01,765 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:11:01,766 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:01,766 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:01,766 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:11:01,766 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:03,767 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:11:03,767 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:11:03,768 - server - INFO - ‚úÖ COFFEE: $356.90 (source: yfinance)
2025-12-16 12:11:03,768 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:03,768 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:11:03,769 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:03,769 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:03,769 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:11:03,769 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:03,769 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:03,769 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:11:03,769 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:05,772 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:11:05,773 - server - INFO - ‚úÖ COCOA: $5909.00 (source: yfinance)
2025-12-16 12:11:05,773 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:11:05,774 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:05,774 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:11:05,775 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:05,775 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:05,775 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:11:05,775 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:05,775 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:05,775 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:11:05,775 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:07,777 - server - INFO - ‚úÖ BITCOIN: $87281.01 (source: yfinance)
2025-12-16 12:11:07,778 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:07,778 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:11:07,778 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:07,779 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:11:22,781 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:11:22,781 - server - INFO - ‚úÖ GOLD: $4307.20 (source: yfinance)
2025-12-16 12:11:22,782 - server - INFO - ‚úÖ SILVER: $63.07 (source: yfinance)
2025-12-16 12:11:22,782 - server - INFO - ‚úÖ PLATINUM: $1841.40 (source: yfinance)
2025-12-16 12:11:22,783 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:22,783 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:11:22,783 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:22,783 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:22,783 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:11:22,783 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:22,783 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:22,783 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:11:22,784 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:24,784 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:11:24,785 - server - INFO - ‚úÖ WTI_CRUDE: $55.74 (source: yfinance)
2025-12-16 12:11:24,785 - server - INFO - ‚úÖ BRENT_CRUDE: $59.65 (source: yfinance)
2025-12-16 12:11:24,786 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:24,786 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:11:24,786 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:24,787 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:24,787 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:11:24,787 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:24,787 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:24,787 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:11:24,787 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:26,788 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:11:26,788 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:11:26,789 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:11:26,789 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:26,790 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:11:26,790 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:26,790 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:26,790 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:11:26,790 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:26,790 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:26,790 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:11:26,791 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:28,791 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:11:28,792 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:11:28,792 - server - INFO - ‚úÖ COFFEE: $356.90 (source: yfinance)
2025-12-16 12:11:28,793 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:28,793 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:11:28,793 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:28,793 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:28,794 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:11:28,794 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:28,794 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:28,794 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:11:28,794 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:30,795 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:11:30,795 - server - INFO - ‚úÖ COCOA: $5909.00 (source: yfinance)
2025-12-16 12:11:30,796 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:11:30,796 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:30,796 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:11:30,797 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:30,797 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:30,797 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:11:30,797 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:30,797 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:30,797 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:11:30,797 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:32,798 - server - INFO - ‚úÖ BITCOIN: $87281.01 (source: yfinance)
2025-12-16 12:11:32,799 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:32,799 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:11:32,799 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:32,801 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:11:47,802 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:11:47,802 - server - INFO - ‚úÖ GOLD: $4307.20 (source: yfinance)
2025-12-16 12:11:47,803 - server - INFO - ‚úÖ SILVER: $63.07 (source: yfinance)
2025-12-16 12:11:47,803 - server - INFO - ‚úÖ PLATINUM: $1841.40 (source: yfinance)
2025-12-16 12:11:47,804 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:47,804 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:11:47,804 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:47,804 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:47,804 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:11:47,805 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:47,805 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:47,805 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:11:47,805 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:49,806 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:11:49,807 - server - INFO - ‚úÖ WTI_CRUDE: $55.74 (source: yfinance)
2025-12-16 12:11:49,808 - server - INFO - ‚úÖ BRENT_CRUDE: $59.65 (source: yfinance)
2025-12-16 12:11:49,809 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:49,809 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:11:49,809 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:49,809 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:49,809 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:11:49,809 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:49,809 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:49,809 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:11:49,810 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:51,811 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:11:51,811 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:11:51,812 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:11:51,812 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:51,812 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:11:51,813 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:51,813 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:51,813 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:11:51,813 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:51,813 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:51,813 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:11:51,813 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:53,815 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:11:53,816 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:11:53,816 - server - INFO - ‚úÖ COFFEE: $356.90 (source: yfinance)
2025-12-16 12:11:53,817 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:53,817 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:11:53,817 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:53,817 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:53,817 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:11:53,817 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:53,818 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:53,818 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:11:53,818 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:54,032 - server - INFO - üîç Connection health check...
2025-12-16 12:11:54,033 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:11:54,033 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:11:54,033 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:11:54,421 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:11:54,422 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:11:54,422 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:11:54,422 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:11:54,422 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:11:54,422 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:11:54,422 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:11:54,804 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:11:54,805 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:11:54,807 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:11:54,807 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:11:54,807 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:11:55,822 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:11:55,823 - server - INFO - ‚úÖ COCOA: $5909.00 (source: yfinance)
2025-12-16 12:11:55,823 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:11:55,824 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:55,824 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:11:55,824 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:55,824 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:55,824 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:11:55,824 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:55,825 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:55,825 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:11:55,825 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:57,826 - server - INFO - ‚úÖ BITCOIN: $87281.01 (source: yfinance)
2025-12-16 12:11:57,827 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:11:57,827 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:11:57,828 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:11:57,829 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:12:12,830 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:12:12,831 - server - INFO - ‚úÖ GOLD: $4307.20 (source: yfinance)
2025-12-16 12:12:12,831 - server - INFO - ‚úÖ SILVER: $63.07 (source: yfinance)
2025-12-16 12:12:12,832 - server - INFO - ‚úÖ PLATINUM: $1841.40 (source: yfinance)
2025-12-16 12:12:12,832 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:12,833 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:12:12,833 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:12,833 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:12,833 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:12:12,833 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:12,833 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:12,833 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:12:12,834 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:14,834 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:12:14,835 - server - INFO - ‚úÖ WTI_CRUDE: $55.74 (source: yfinance)
2025-12-16 12:12:14,835 - server - INFO - ‚úÖ BRENT_CRUDE: $59.65 (source: yfinance)
2025-12-16 12:12:14,836 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:14,836 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:12:14,836 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:14,836 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:14,836 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:12:14,837 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:14,837 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:14,837 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:12:14,837 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:16,838 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:12:16,839 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:12:16,839 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:12:16,840 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:16,840 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:12:16,840 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:16,841 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:16,841 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:12:16,841 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:16,841 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:16,841 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:12:16,841 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:18,842 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:12:18,843 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:12:18,844 - server - INFO - ‚úÖ COFFEE: $356.90 (source: yfinance)
2025-12-16 12:12:18,844 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:18,844 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:12:18,845 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:18,845 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:18,845 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:12:18,845 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:18,845 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:18,845 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:12:18,845 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:20,846 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:12:20,847 - server - INFO - ‚úÖ COCOA: $5909.00 (source: yfinance)
2025-12-16 12:12:20,847 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:12:20,848 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:20,848 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:12:20,848 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:20,848 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:20,848 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:12:20,848 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:20,848 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:20,849 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:12:20,849 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:22,849 - server - INFO - ‚úÖ BITCOIN: $87281.01 (source: yfinance)
2025-12-16 12:12:22,850 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:22,850 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:12:22,851 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:22,852 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:12:37,854 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:12:37,854 - server - INFO - ‚úÖ GOLD: $4307.20 (source: yfinance)
2025-12-16 12:12:37,855 - server - INFO - ‚úÖ SILVER: $63.07 (source: yfinance)
2025-12-16 12:12:37,855 - server - INFO - ‚úÖ PLATINUM: $1841.40 (source: yfinance)
2025-12-16 12:12:37,856 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:37,856 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:12:37,856 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:37,856 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:37,856 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:12:37,857 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:37,857 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:37,857 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:12:37,857 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:39,857 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:12:39,858 - server - INFO - ‚úÖ WTI_CRUDE: $55.74 (source: yfinance)
2025-12-16 12:12:39,859 - server - INFO - ‚úÖ BRENT_CRUDE: $59.65 (source: yfinance)
2025-12-16 12:12:39,859 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:39,859 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:12:39,860 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:39,860 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:39,860 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:12:39,860 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:39,860 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:39,860 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:12:39,860 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:41,861 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:12:41,862 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:12:41,862 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:12:41,863 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:41,863 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:12:41,863 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:41,863 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:41,863 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:12:41,863 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:41,863 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:41,863 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:12:41,864 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:43,864 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:12:43,865 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:12:43,865 - server - INFO - ‚úÖ COFFEE: $356.90 (source: yfinance)
2025-12-16 12:12:43,866 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:43,866 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:12:43,866 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:43,866 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:43,866 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:12:43,867 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:43,867 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:43,867 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:12:43,867 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:45,868 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:12:45,869 - server - INFO - ‚úÖ COCOA: $5909.00 (source: yfinance)
2025-12-16 12:12:45,869 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:12:45,870 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:45,870 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:12:45,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:45,871 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:45,871 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:12:45,871 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:45,871 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:45,871 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:12:45,871 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:47,872 - server - INFO - ‚úÖ BITCOIN: $87281.01 (source: yfinance)
2025-12-16 12:12:47,873 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:12:47,873 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:12:47,874 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:12:47,875 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:12:54,807 - server - INFO - üîç Connection health check...
2025-12-16 12:12:54,808 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:12:54,808 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:12:54,808 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:12:55,205 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:12:55,206 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:12:55,206 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:12:55,206 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:12:55,206 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:12:55,206 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:12:55,206 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:12:55,565 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:12:55,565 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:12:55,566 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:12:55,566 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:12:55,566 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:13:02,876 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:13:02,877 - server - INFO - ‚úÖ GOLD: $4307.20 (source: yfinance)
2025-12-16 12:13:02,878 - server - INFO - ‚úÖ SILVER: $63.07 (source: yfinance)
2025-12-16 12:13:02,878 - server - INFO - ‚úÖ PLATINUM: $1841.40 (source: yfinance)
2025-12-16 12:13:02,879 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:02,879 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:13:02,879 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:02,879 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:02,879 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:13:02,879 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:02,879 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:02,879 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:13:02,880 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:04,881 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:13:04,882 - server - INFO - ‚úÖ WTI_CRUDE: $55.74 (source: yfinance)
2025-12-16 12:13:04,882 - server - INFO - ‚úÖ BRENT_CRUDE: $59.65 (source: yfinance)
2025-12-16 12:13:04,883 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:04,883 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:13:04,883 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:04,883 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:04,883 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:13:04,884 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:04,884 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:04,884 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:13:04,884 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:06,884 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:13:06,885 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:13:06,886 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:13:06,886 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:06,886 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:13:06,887 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:06,887 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:06,887 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:13:06,887 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:06,887 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:06,887 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:13:06,887 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:08,889 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:13:08,889 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:13:08,890 - server - INFO - ‚úÖ COFFEE: $356.90 (source: yfinance)
2025-12-16 12:13:08,891 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:08,891 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:13:08,891 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:08,891 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:08,891 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:13:08,891 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:08,891 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:08,891 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:13:08,892 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:10,892 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:13:10,893 - server - INFO - ‚úÖ COCOA: $5909.00 (source: yfinance)
2025-12-16 12:13:10,893 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:13:10,894 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:10,894 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:13:10,894 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:10,895 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:10,895 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:13:10,895 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:10,895 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:10,895 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:13:10,895 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:12,897 - server - INFO - ‚úÖ BITCOIN: $87281.01 (source: yfinance)
2025-12-16 12:13:12,899 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:12,900 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:13:12,900 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:12,901 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:13:27,903 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:13:27,903 - server - INFO - ‚úÖ GOLD: $4307.20 (source: yfinance)
2025-12-16 12:13:27,904 - server - INFO - ‚úÖ SILVER: $63.07 (source: yfinance)
2025-12-16 12:13:27,904 - server - INFO - ‚úÖ PLATINUM: $1841.40 (source: yfinance)
2025-12-16 12:13:27,905 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:27,905 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:13:27,905 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:27,905 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:27,905 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:13:27,906 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:27,906 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:27,906 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:13:27,906 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:29,907 - server - INFO - ‚úÖ PALLADIUM: $1624.50 (source: yfinance)
2025-12-16 12:13:29,908 - server - INFO - ‚úÖ WTI_CRUDE: $55.74 (source: yfinance)
2025-12-16 12:13:29,908 - server - INFO - ‚úÖ BRENT_CRUDE: $59.65 (source: yfinance)
2025-12-16 12:13:29,909 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:29,909 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:13:29,909 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:29,909 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:29,909 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:13:29,909 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:29,910 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:29,910 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:13:29,910 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:31,911 - server - INFO - ‚úÖ NATURAL_GAS: $3.97 (source: yfinance)
2025-12-16 12:13:31,911 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:13:31,912 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:13:31,912 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:31,912 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:13:31,913 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:31,913 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:31,913 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:13:31,913 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:31,913 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:31,913 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:13:31,913 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:33,914 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:13:33,915 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:13:33,915 - server - INFO - ‚úÖ COFFEE: $356.90 (source: yfinance)
2025-12-16 12:13:33,916 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:33,916 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:13:33,916 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:33,916 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:33,916 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:13:33,917 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:33,917 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:33,917 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:13:33,917 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:35,918 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:13:35,918 - server - INFO - ‚úÖ COCOA: $5909.00 (source: yfinance)
2025-12-16 12:13:35,919 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:13:35,920 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:35,920 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:13:35,920 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:35,920 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:35,920 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:13:35,921 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:35,921 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:35,921 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:13:35,921 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:37,922 - server - INFO - ‚úÖ BITCOIN: $87281.01 (source: yfinance)
2025-12-16 12:13:37,923 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:37,923 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:13:37,924 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:37,925 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:13:52,926 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:13:53,022 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1838.50
2025-12-16 12:13:53,022 - server - INFO - ‚úÖ PLATINUM: $1838.50 (source: yfinance)
2025-12-16 12:13:53,033 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.01
2025-12-16 12:13:53,033 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:53,033 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:13:53,034 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:53,034 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:13:53,036 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:53,036 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:13:53,036 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:53,053 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4306.00
2025-12-16 12:13:53,054 - server - INFO - ‚úÖ GOLD: $4306.00 (source: yfinance)
2025-12-16 12:13:53,056 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:53,056 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:13:53,057 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:55,120 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.79
2025-12-16 12:13:55,121 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:13:55,124 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:55,124 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:13:55,124 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:55,162 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1623.50
2025-12-16 12:13:55,163 - server - INFO - ‚úÖ PALLADIUM: $1623.50 (source: yfinance)
2025-12-16 12:13:55,165 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:55,165 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:13:55,166 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:55,195 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.67
2025-12-16 12:13:55,196 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:13:55,198 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:55,198 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:13:55,199 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:55,567 - server - INFO - üîç Connection health check...
2025-12-16 12:13:55,567 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:13:55,567 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:13:55,568 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:13:55,970 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:13:55,971 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:13:55,971 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:13:55,971 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:13:55,971 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:13:55,971 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:13:55,971 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:13:56,343 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:13:56,344 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:13:56,344 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:13:56,344 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:13:56,344 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:13:57,265 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.36
2025-12-16 12:13:57,266 - server - INFO - ‚úÖ COPPER: $5.36 (source: yfinance)
2025-12-16 12:13:57,268 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:57,269 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:13:57,269 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:57,279 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.96
2025-12-16 12:13:57,279 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:13:57,282 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:57,282 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:13:57,282 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:57,304 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $518.00
2025-12-16 12:13:57,305 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:13:57,307 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:57,307 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:13:57,308 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:59,370 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $439.00
2025-12-16 12:13:59,377 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1073.00
2025-12-16 12:13:59,377 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:13:59,380 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:13:59,382 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:59,382 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:13:59,382 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:59,382 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:59,382 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:13:59,383 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:13:59,445 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $356.70
2025-12-16 12:13:59,445 - server - INFO - ‚úÖ COFFEE: $356.70 (source: yfinance)
2025-12-16 12:13:59,448 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:13:59,448 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:13:59,448 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:01,550 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5905.00
2025-12-16 12:14:01,550 - server - INFO - ‚úÖ COCOA: $5905.00 (source: yfinance)
2025-12-16 12:14:01,553 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:01,553 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:14:01,553 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:01,566 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:14:01,566 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:14:01,569 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:01,569 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:14:01,569 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:01,611 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.95
2025-12-16 12:14:01,612 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:14:01,614 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:01,614 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:14:01,614 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:03,674 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87234.94
2025-12-16 12:14:03,675 - server - INFO - ‚úÖ BITCOIN: $87234.94 (source: yfinance)
2025-12-16 12:14:03,677 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:03,678 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:14:03,678 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:03,679 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:14:18,680 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:14:18,681 - server - INFO - ‚úÖ GOLD: $4306.00 (source: yfinance)
2025-12-16 12:14:18,682 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:14:18,682 - server - INFO - ‚úÖ PLATINUM: $1838.50 (source: yfinance)
2025-12-16 12:14:18,683 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:18,683 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:14:18,683 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:18,683 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:18,683 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:14:18,684 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:18,684 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:18,684 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:14:18,684 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:20,684 - server - INFO - ‚úÖ PALLADIUM: $1623.50 (source: yfinance)
2025-12-16 12:14:20,685 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:14:20,685 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:14:20,688 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:20,688 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:14:20,688 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:20,688 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:20,688 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:14:20,689 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:20,689 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:20,689 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:14:20,689 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:22,691 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:14:22,692 - server - INFO - ‚úÖ COPPER: $5.36 (source: yfinance)
2025-12-16 12:14:22,692 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:14:22,693 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:22,694 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:14:22,697 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:22,697 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:22,697 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:14:22,697 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:22,697 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:22,697 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:14:22,698 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:24,699 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:14:24,700 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:14:24,700 - server - INFO - ‚úÖ COFFEE: $356.70 (source: yfinance)
2025-12-16 12:14:24,701 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:24,701 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:14:24,701 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:24,701 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:24,701 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:14:24,702 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:24,702 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:24,702 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:14:24,702 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:26,703 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:14:26,704 - server - INFO - ‚úÖ COCOA: $5905.00 (source: yfinance)
2025-12-16 12:14:26,704 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:14:26,705 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:26,705 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:14:26,706 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:26,706 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:26,706 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:14:26,707 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:26,707 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:26,707 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:14:26,708 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:28,708 - server - INFO - ‚úÖ BITCOIN: $87234.94 (source: yfinance)
2025-12-16 12:14:28,709 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:28,709 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:14:28,710 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:28,711 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:14:43,712 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:14:43,713 - server - INFO - ‚úÖ GOLD: $4306.00 (source: yfinance)
2025-12-16 12:14:43,713 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:14:43,714 - server - INFO - ‚úÖ PLATINUM: $1838.50 (source: yfinance)
2025-12-16 12:14:43,714 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:43,714 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:14:43,715 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:43,715 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:43,715 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:14:43,715 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:43,715 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:43,715 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:14:43,715 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:45,716 - server - INFO - ‚úÖ PALLADIUM: $1623.50 (source: yfinance)
2025-12-16 12:14:45,717 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:14:45,719 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:14:45,720 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:45,721 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:14:45,721 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:45,721 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:45,722 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:14:45,722 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:45,722 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:45,722 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:14:45,722 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:47,723 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:14:47,724 - server - INFO - ‚úÖ COPPER: $5.36 (source: yfinance)
2025-12-16 12:14:47,726 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:14:47,727 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:47,727 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:14:47,727 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:47,727 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:47,727 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:14:47,728 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:47,728 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:47,728 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:14:47,728 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:49,729 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:14:49,730 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:14:49,730 - server - INFO - ‚úÖ COFFEE: $356.70 (source: yfinance)
2025-12-16 12:14:49,731 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:49,731 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:14:49,732 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:49,732 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:49,732 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:14:49,732 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:49,732 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:49,732 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:14:49,732 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:51,733 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:14:51,735 - server - INFO - ‚úÖ COCOA: $5905.00 (source: yfinance)
2025-12-16 12:14:51,736 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:14:51,741 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:51,741 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:14:51,741 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:51,741 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:51,741 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:14:51,742 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:51,744 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:51,746 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:14:51,747 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:53,748 - server - INFO - ‚úÖ BITCOIN: $87234.94 (source: yfinance)
2025-12-16 12:14:53,749 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:14:53,749 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:14:53,750 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:14:53,751 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:14:56,345 - server - INFO - üîç Connection health check...
2025-12-16 12:14:56,346 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:14:56,346 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:14:56,346 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:14:56,769 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:14:56,770 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:14:56,771 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:14:56,771 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:14:56,771 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:14:56,771 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:14:56,771 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:14:57,150 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:14:57,151 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:14:57,151 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:14:57,151 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:14:57,151 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:15:08,751 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:15:08,752 - server - INFO - ‚úÖ GOLD: $4306.00 (source: yfinance)
2025-12-16 12:15:08,753 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:15:08,753 - server - INFO - ‚úÖ PLATINUM: $1838.50 (source: yfinance)
2025-12-16 12:15:08,754 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:08,754 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:15:08,754 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:08,754 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:08,754 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:15:08,754 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:08,754 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:08,754 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:15:08,755 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:10,756 - server - INFO - ‚úÖ PALLADIUM: $1623.50 (source: yfinance)
2025-12-16 12:15:10,757 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:15:10,757 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:15:10,758 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:10,758 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:15:10,758 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:10,758 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:10,758 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:15:10,758 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:10,759 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:10,759 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:15:10,759 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:12,760 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:15:12,761 - server - INFO - ‚úÖ COPPER: $5.36 (source: yfinance)
2025-12-16 12:15:12,761 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:15:12,762 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:12,762 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:15:12,763 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:12,763 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:12,763 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:15:12,763 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:12,763 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:12,763 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:15:12,763 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:14,765 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:15:14,765 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:15:14,766 - server - INFO - ‚úÖ COFFEE: $356.70 (source: yfinance)
2025-12-16 12:15:14,766 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:14,766 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:15:14,767 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:14,767 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:14,767 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:15:14,767 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:14,767 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:14,767 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:15:14,767 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:16,768 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:15:16,769 - server - INFO - ‚úÖ COCOA: $5905.00 (source: yfinance)
2025-12-16 12:15:16,769 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:15:16,770 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:16,770 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:15:16,772 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:16,772 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:16,772 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:15:16,773 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:16,773 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:16,773 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:15:16,773 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:18,774 - server - INFO - ‚úÖ BITCOIN: $87234.94 (source: yfinance)
2025-12-16 12:15:18,775 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:18,775 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:15:18,776 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:18,777 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:15:33,778 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:15:33,778 - server - INFO - ‚úÖ GOLD: $4306.00 (source: yfinance)
2025-12-16 12:15:33,779 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:15:33,779 - server - INFO - ‚úÖ PLATINUM: $1838.50 (source: yfinance)
2025-12-16 12:15:33,780 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:33,780 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:15:33,780 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:33,781 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:33,781 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:15:33,781 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:33,781 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:33,781 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:15:33,781 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:35,783 - server - INFO - ‚úÖ PALLADIUM: $1623.50 (source: yfinance)
2025-12-16 12:15:35,783 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:15:35,784 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:15:35,785 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:35,785 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:15:35,785 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:35,785 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:35,785 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:15:35,785 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:35,785 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:35,785 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:15:35,786 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:37,787 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:15:37,788 - server - INFO - ‚úÖ COPPER: $5.36 (source: yfinance)
2025-12-16 12:15:37,788 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:15:37,789 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:37,789 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:15:37,789 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:37,789 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:37,789 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:15:37,790 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:37,790 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:37,790 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:15:37,790 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:39,791 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:15:39,792 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:15:39,793 - server - INFO - ‚úÖ COFFEE: $356.70 (source: yfinance)
2025-12-16 12:15:39,793 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:39,794 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:15:39,794 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:39,794 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:39,794 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:15:39,794 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:39,794 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:39,794 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:15:39,795 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:41,796 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:15:41,797 - server - INFO - ‚úÖ COCOA: $5905.00 (source: yfinance)
2025-12-16 12:15:41,797 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:15:41,798 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:41,798 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:15:41,798 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:41,798 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:41,799 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:15:41,799 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:41,799 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:41,799 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:15:41,799 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:43,800 - server - INFO - ‚úÖ BITCOIN: $87234.94 (source: yfinance)
2025-12-16 12:15:43,801 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:43,802 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:15:43,802 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:43,803 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:15:57,151 - server - INFO - üîç Connection health check...
2025-12-16 12:15:57,152 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:15:57,152 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:15:57,152 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:15:57,504 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:15:57,504 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:15:57,505 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:15:57,505 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:15:57,505 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:15:57,505 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:15:57,505 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:15:57,902 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:15:57,903 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:15:57,903 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:15:57,903 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:15:57,903 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:15:58,805 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:15:58,805 - server - INFO - ‚úÖ GOLD: $4306.00 (source: yfinance)
2025-12-16 12:15:58,806 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:15:58,806 - server - INFO - ‚úÖ PLATINUM: $1838.50 (source: yfinance)
2025-12-16 12:15:58,807 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:58,807 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:15:58,807 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:58,807 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:58,807 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:15:58,808 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:15:58,808 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:15:58,808 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:15:58,808 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:00,809 - server - INFO - ‚úÖ PALLADIUM: $1623.50 (source: yfinance)
2025-12-16 12:16:00,810 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:16:00,810 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:16:00,811 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:00,811 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:16:00,812 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:00,812 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:00,812 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:16:00,812 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:00,812 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:00,812 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:16:00,812 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:02,814 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:16:02,815 - server - INFO - ‚úÖ COPPER: $5.36 (source: yfinance)
2025-12-16 12:16:02,817 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:16:02,817 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:02,817 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:16:02,818 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:02,818 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:02,818 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:16:02,818 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:02,818 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:02,818 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:16:02,819 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:04,820 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:16:04,821 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:16:04,821 - server - INFO - ‚úÖ COFFEE: $356.70 (source: yfinance)
2025-12-16 12:16:04,822 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:04,822 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:16:04,822 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:04,822 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:04,822 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:16:04,823 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:04,823 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:04,823 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:16:04,823 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:06,824 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:16:06,825 - server - INFO - ‚úÖ COCOA: $5905.00 (source: yfinance)
2025-12-16 12:16:06,826 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:16:06,826 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:06,827 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:16:06,827 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:06,827 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:06,827 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:16:06,827 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:06,827 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:06,827 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:16:06,828 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:08,829 - server - INFO - ‚úÖ BITCOIN: $87234.94 (source: yfinance)
2025-12-16 12:16:08,830 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:08,830 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:16:08,830 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:08,832 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:16:23,833 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:16:23,834 - server - INFO - ‚úÖ GOLD: $4306.00 (source: yfinance)
2025-12-16 12:16:23,835 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:16:23,835 - server - INFO - ‚úÖ PLATINUM: $1838.50 (source: yfinance)
2025-12-16 12:16:23,836 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:23,836 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:16:23,836 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:23,836 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:23,836 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:16:23,837 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:23,837 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:23,837 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:16:23,837 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:25,838 - server - INFO - ‚úÖ PALLADIUM: $1623.50 (source: yfinance)
2025-12-16 12:16:25,839 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:16:25,839 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:16:25,840 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:25,840 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:16:25,840 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:25,840 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:25,840 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:16:25,841 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:25,841 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:25,841 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:16:25,841 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:27,843 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:16:27,843 - server - INFO - ‚úÖ COPPER: $5.36 (source: yfinance)
2025-12-16 12:16:27,844 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:16:27,846 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:27,846 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:16:27,846 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:27,846 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:27,846 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:16:27,847 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:27,847 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:27,847 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:16:27,847 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:29,848 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:16:29,849 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:16:29,849 - server - INFO - ‚úÖ COFFEE: $356.70 (source: yfinance)
2025-12-16 12:16:29,850 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:29,850 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:16:29,850 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:29,850 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:29,851 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:16:29,851 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:29,851 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:29,851 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:16:29,851 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:31,852 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:16:31,853 - server - INFO - ‚úÖ COCOA: $5905.00 (source: yfinance)
2025-12-16 12:16:31,853 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:16:31,854 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:31,854 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:16:31,854 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:31,854 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:31,854 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:16:31,854 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:31,855 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:31,855 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:16:31,855 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:33,856 - server - INFO - ‚úÖ BITCOIN: $87234.94 (source: yfinance)
2025-12-16 12:16:33,857 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:33,857 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:16:33,857 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:33,858 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:16:48,859 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:16:48,860 - server - INFO - ‚úÖ GOLD: $4306.00 (source: yfinance)
2025-12-16 12:16:48,860 - server - INFO - ‚úÖ SILVER: $63.01 (source: yfinance)
2025-12-16 12:16:48,860 - server - INFO - ‚úÖ PLATINUM: $1838.50 (source: yfinance)
2025-12-16 12:16:48,861 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:48,861 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:16:48,862 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:48,862 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:48,862 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:16:48,862 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:48,862 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:48,862 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:16:48,863 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:50,863 - server - INFO - ‚úÖ PALLADIUM: $1623.50 (source: yfinance)
2025-12-16 12:16:50,864 - server - INFO - ‚úÖ WTI_CRUDE: $55.79 (source: yfinance)
2025-12-16 12:16:50,864 - server - INFO - ‚úÖ BRENT_CRUDE: $59.67 (source: yfinance)
2025-12-16 12:16:50,865 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:50,865 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:16:50,865 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:50,866 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:50,866 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:16:50,866 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:50,866 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:50,866 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:16:50,866 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:52,868 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:16:52,868 - server - INFO - ‚úÖ COPPER: $5.36 (source: yfinance)
2025-12-16 12:16:52,869 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:16:52,869 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:52,869 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:16:52,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:52,870 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:52,870 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:16:52,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:52,870 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:52,870 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:16:52,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:54,872 - server - INFO - ‚úÖ CORN: $439.00 (source: yfinance)
2025-12-16 12:16:54,872 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:16:54,873 - server - INFO - ‚úÖ COFFEE: $356.70 (source: yfinance)
2025-12-16 12:16:54,875 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:54,875 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:16:54,875 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:54,875 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:54,875 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:16:54,876 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:54,876 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:54,876 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:16:54,876 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:56,877 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:16:56,878 - server - INFO - ‚úÖ COCOA: $5905.00 (source: yfinance)
2025-12-16 12:16:56,878 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:16:56,879 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:56,879 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:16:56,879 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:56,880 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:56,880 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:16:56,880 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:56,880 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:56,880 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:16:56,880 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:57,904 - server - INFO - üîç Connection health check...
2025-12-16 12:16:57,905 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:16:57,905 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:16:57,905 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:16:58,322 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:16:58,322 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:16:58,323 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:16:58,323 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:16:58,323 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:16:58,323 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:16:58,323 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:16:58,692 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:16:58,693 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:16:58,694 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:16:58,694 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:16:58,694 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:16:58,881 - server - INFO - ‚úÖ BITCOIN: $87234.94 (source: yfinance)
2025-12-16 12:16:58,882 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:16:58,882 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:16:58,883 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:16:58,884 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:17:13,885 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:17:13,983 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.03
2025-12-16 12:17:13,984 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:17:13,992 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4310.10
2025-12-16 12:17:13,995 - server - INFO - ‚úÖ GOLD: $4310.10 (source: yfinance)
2025-12-16 12:17:13,997 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:13,997 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:17:13,998 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:13,998 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:13,998 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:17:13,998 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:14,050 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1840.40
2025-12-16 12:17:14,050 - server - INFO - ‚úÖ PLATINUM: $1840.40 (source: yfinance)
2025-12-16 12:17:14,053 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:14,053 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:17:14,053 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:16,113 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.94
2025-12-16 12:17:16,113 - server - INFO - ‚úÖ WTI_CRUDE: $55.94 (source: yfinance)
2025-12-16 12:17:16,116 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:16,124 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1623.00
2025-12-16 12:17:16,125 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:17:16,125 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:16,125 - server - INFO - ‚úÖ PALLADIUM: $1623.00 (source: yfinance)
2025-12-16 12:17:16,128 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:16,128 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:17:16,128 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:16,209 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.70
2025-12-16 12:17:16,209 - server - INFO - ‚úÖ BRENT_CRUDE: $59.70 (source: yfinance)
2025-12-16 12:17:16,211 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:16,212 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:17:16,212 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:18,269 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:17:18,269 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:17:18,278 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.96
2025-12-16 12:17:18,280 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:17:18,283 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:18,283 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:17:18,283 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:18,283 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:18,283 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:17:18,283 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:18,322 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $518.00
2025-12-16 12:17:18,322 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:17:18,324 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:18,324 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:17:18,325 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:20,382 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1073.00
2025-12-16 12:17:20,391 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $356.40
2025-12-16 12:17:20,391 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:17:20,394 - server - INFO - ‚úÖ COFFEE: $356.40 (source: yfinance)
2025-12-16 12:17:20,396 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:20,396 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:17:20,396 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:20,397 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:20,397 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:17:20,397 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:20,456 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $438.75
2025-12-16 12:17:20,457 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:17:20,459 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:20,459 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:17:20,460 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:22,518 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.96
2025-12-16 12:17:22,519 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:17:22,521 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:22,522 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:17:22,522 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:22,534 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5916.00
2025-12-16 12:17:22,534 - server - INFO - ‚úÖ COCOA: $5916.00 (source: yfinance)
2025-12-16 12:17:22,536 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:22,536 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:17:22,537 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:22,562 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:17:22,562 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:17:22,565 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:22,565 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:17:22,565 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:24,646 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87288.76
2025-12-16 12:17:24,646 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:17:24,649 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:24,649 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:17:24,649 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:24,651 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:17:39,652 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:17:39,652 - server - INFO - ‚úÖ GOLD: $4310.10 (source: yfinance)
2025-12-16 12:17:39,653 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:17:39,653 - server - INFO - ‚úÖ PLATINUM: $1840.40 (source: yfinance)
2025-12-16 12:17:39,654 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:39,654 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:17:39,654 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:39,655 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:39,655 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:17:39,655 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:39,655 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:39,655 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:17:39,655 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:41,657 - server - INFO - ‚úÖ PALLADIUM: $1623.00 (source: yfinance)
2025-12-16 12:17:41,657 - server - INFO - ‚úÖ WTI_CRUDE: $55.94 (source: yfinance)
2025-12-16 12:17:41,658 - server - INFO - ‚úÖ BRENT_CRUDE: $59.70 (source: yfinance)
2025-12-16 12:17:41,659 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:41,659 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:17:41,660 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:41,660 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:41,660 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:17:41,660 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:41,660 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:41,660 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:17:41,661 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:43,662 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:17:43,662 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:17:43,663 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:17:43,665 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:43,665 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:17:43,665 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:43,665 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:43,666 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:17:43,666 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:43,666 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:43,666 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:17:43,666 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:45,667 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:17:45,668 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:17:45,669 - server - INFO - ‚úÖ COFFEE: $356.40 (source: yfinance)
2025-12-16 12:17:45,670 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:45,670 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:17:45,670 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:45,671 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:45,671 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:17:45,671 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:45,671 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:45,671 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:17:45,672 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:47,673 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:17:47,674 - server - INFO - ‚úÖ COCOA: $5916.00 (source: yfinance)
2025-12-16 12:17:47,675 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:17:47,676 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:47,677 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:17:47,677 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:47,679 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:47,679 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:17:47,680 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:47,680 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:47,680 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:17:47,680 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:49,682 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:17:49,683 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:17:49,683 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:17:49,683 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:17:49,688 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:17:58,695 - server - INFO - üîç Connection health check...
2025-12-16 12:17:58,698 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:17:58,699 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:17:58,699 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:17:59,283 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:17:59,284 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:17:59,284 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:17:59,284 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:17:59,284 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:17:59,284 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:17:59,284 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:17:59,686 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:17:59,687 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:17:59,687 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:17:59,687 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:17:59,687 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:18:04,689 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:18:04,690 - server - INFO - ‚úÖ GOLD: $4310.10 (source: yfinance)
2025-12-16 12:18:04,811 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:18:04,811 - server - INFO - ‚úÖ PLATINUM: $1840.40 (source: yfinance)
2025-12-16 12:18:04,812 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:04,812 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:18:04,812 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:04,812 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:04,812 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:18:04,813 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:04,813 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:04,813 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:18:04,813 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:06,814 - server - INFO - ‚úÖ PALLADIUM: $1623.00 (source: yfinance)
2025-12-16 12:18:06,815 - server - INFO - ‚úÖ WTI_CRUDE: $55.94 (source: yfinance)
2025-12-16 12:18:06,815 - server - INFO - ‚úÖ BRENT_CRUDE: $59.70 (source: yfinance)
2025-12-16 12:18:06,816 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:06,816 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:18:06,816 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:06,817 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:06,817 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:18:06,817 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:06,817 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:06,817 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:18:06,817 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:08,819 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:18:08,819 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:18:08,820 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:18:08,822 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:08,822 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:18:08,822 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:08,822 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:08,822 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:18:08,822 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:08,823 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:08,823 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:18:08,823 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:10,823 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:18:10,824 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:18:10,824 - server - INFO - ‚úÖ COFFEE: $356.40 (source: yfinance)
2025-12-16 12:18:10,825 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:10,825 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:18:10,827 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:10,827 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:10,827 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:18:10,828 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:10,828 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:10,828 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:18:10,828 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:12,830 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:18:12,830 - server - INFO - ‚úÖ COCOA: $5916.00 (source: yfinance)
2025-12-16 12:18:12,831 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:18:12,840 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:12,840 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:18:12,840 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:12,840 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:12,840 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:18:12,841 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:12,841 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:12,841 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:18:12,841 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:14,842 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:18:14,843 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:14,843 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:18:14,844 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:14,845 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:18:29,846 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:18:29,847 - server - INFO - ‚úÖ GOLD: $4310.10 (source: yfinance)
2025-12-16 12:18:29,848 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:18:29,848 - server - INFO - ‚úÖ PLATINUM: $1840.40 (source: yfinance)
2025-12-16 12:18:29,849 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:29,849 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:18:29,849 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:29,849 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:29,849 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:18:29,849 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:29,849 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:29,850 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:18:29,850 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:31,852 - server - INFO - ‚úÖ PALLADIUM: $1623.00 (source: yfinance)
2025-12-16 12:18:31,853 - server - INFO - ‚úÖ WTI_CRUDE: $55.94 (source: yfinance)
2025-12-16 12:18:31,853 - server - INFO - ‚úÖ BRENT_CRUDE: $59.70 (source: yfinance)
2025-12-16 12:18:31,854 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:31,855 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:18:31,855 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:31,855 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:31,855 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:18:31,855 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:31,855 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:31,855 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:18:31,856 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:33,856 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:18:33,857 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:18:33,858 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:18:33,859 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:33,859 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:18:33,859 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:33,859 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:33,859 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:18:33,860 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:33,860 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:33,860 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:18:33,860 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:35,861 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:18:35,861 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:18:35,862 - server - INFO - ‚úÖ COFFEE: $356.40 (source: yfinance)
2025-12-16 12:18:35,863 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:35,863 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:18:35,864 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:35,864 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:35,864 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:18:35,864 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:35,864 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:35,864 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:18:35,864 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:37,867 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:18:37,867 - server - INFO - ‚úÖ COCOA: $5916.00 (source: yfinance)
2025-12-16 12:18:37,868 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:18:37,869 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:37,869 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:18:37,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:37,870 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:37,870 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:18:37,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:37,870 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:37,870 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:18:37,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:39,871 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:18:39,873 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:39,873 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:18:39,873 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:39,877 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:18:54,878 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:18:54,878 - server - INFO - ‚úÖ GOLD: $4310.10 (source: yfinance)
2025-12-16 12:18:54,879 - server - INFO - ‚úÖ SILVER: $63.03 (source: yfinance)
2025-12-16 12:18:54,879 - server - INFO - ‚úÖ PLATINUM: $1840.40 (source: yfinance)
2025-12-16 12:18:54,880 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:54,880 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:18:54,881 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:54,881 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:54,881 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:18:54,881 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:54,881 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:54,881 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:18:54,881 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:56,883 - server - INFO - ‚úÖ PALLADIUM: $1623.00 (source: yfinance)
2025-12-16 12:18:56,883 - server - INFO - ‚úÖ WTI_CRUDE: $55.94 (source: yfinance)
2025-12-16 12:18:56,884 - server - INFO - ‚úÖ BRENT_CRUDE: $59.70 (source: yfinance)
2025-12-16 12:18:56,885 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:56,885 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:18:56,885 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:56,885 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:56,885 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:18:56,885 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:56,886 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:56,886 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:18:56,886 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:58,887 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:18:58,887 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:18:58,888 - server - INFO - ‚úÖ WHEAT: $518.00 (source: yfinance)
2025-12-16 12:18:58,889 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:58,889 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:18:58,889 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:58,889 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:58,889 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:18:58,889 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:58,889 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:18:58,889 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:18:58,890 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:18:59,688 - server - INFO - üîç Connection health check...
2025-12-16 12:18:59,689 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:18:59,689 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:18:59,689 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:19:00,129 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:19:00,130 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:19:00,132 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:19:00,132 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:19:00,132 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:19:00,132 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:19:00,132 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:19:00,507 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:19:00,508 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:19:00,509 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:19:00,509 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:19:00,509 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:19:00,891 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:19:00,892 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:19:00,893 - server - INFO - ‚úÖ COFFEE: $356.40 (source: yfinance)
2025-12-16 12:19:00,893 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:00,893 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:19:00,894 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:00,894 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:00,894 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:19:00,894 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:00,894 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:00,894 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:19:00,894 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:02,895 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:19:02,896 - server - INFO - ‚úÖ COCOA: $5916.00 (source: yfinance)
2025-12-16 12:19:02,896 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:19:02,897 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:02,897 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:19:02,897 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:02,897 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:02,897 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:19:02,898 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:02,898 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:02,898 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:19:02,898 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:04,898 - server - INFO - ‚úÖ BITCOIN: $87288.76 (source: yfinance)
2025-12-16 12:19:04,899 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:04,899 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:19:04,900 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:04,903 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:19:11,390 - database - INFO - SQLite Verbindung geschlossen
2025-12-16 12:19:11,390 - server - INFO - ‚úÖ SQLite Verbindung geschlossen
2025-12-16 12:19:11,390 - server - INFO - Application shutdown complete
2025-12-16 12:19:13,200 - server - WARNING - ‚ö†Ô∏è  Frontend build not found at: /app/frontend/build
2025-12-16 12:19:13,200 - server - WARNING -    Run 'cd /app/frontend && yarn build' to create production build
2025-12-16 12:19:13,200 - server - INFO - üöÄ Server startet mit SQLite...
2025-12-16 12:19:13,203 - database - INFO - ‚úÖ SQLite verbunden (WAL mode, 60s timeout): /app/backend/trading.db
2025-12-16 12:19:13,203 - database - INFO - Erstelle SQLite Schema...
2025-12-16 12:19:13,203 - database - INFO - ‚úÖ SQLite Schema erstellt
2025-12-16 12:19:13,203 - database - INFO - ‚úÖ Database initialized
2025-12-16 12:19:13,203 - server - INFO - ‚úÖ SQLite Datenbank initialisiert
2025-12-16 12:19:13,203 - server - INFO - ‚ÑπÔ∏è  AI Trading Bot wird im Worker-Prozess gestartet
2025-12-16 12:19:13,203 - server - INFO - Starting WTI Smart Trader API...
2025-12-16 12:19:13,203 - server - INFO - Initializing persistent MetaAPI connections...
2025-12-16 12:19:13,461 - multi_platform_connector - INFO - ‚ÑπÔ∏è  Real Account not configured (only Demo available)
2025-12-16 12:19:13,462 - multi_platform_connector - INFO - MultiPlatformConnector (SDK) initialized with 6 platform(s)
2025-12-16 12:19:13,462 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:19:13,462 - multi_platform_connector - INFO - ‚úÖ Shared MetaApi client initialized
2025-12-16 12:19:13,462 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:19:13,827 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:19:13,828 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:19:13,830 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:19:13,830 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:19:13,830 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:19:13,830 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:19:14,179 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:19:14,180 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:19:14,180 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:19:14,181 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:19:14,181 - server - INFO - ‚úÖ Persistent MetaAPI connections established
2025-12-16 12:19:14,181 - llm_fallback - INFO - Fallback LLM configured: openai/gpt-5
2025-12-16 12:19:14,181 - server - INFO - AI Chat initialized: Provider=emergent, Model=gpt-5
2025-12-16 12:19:14,188 - server - INFO - MT5 credentials loaded: Server=ICMarketsEU-Demo, Login=52565616
2025-12-16 12:19:14,188 - server - INFO - ‚úÖ Connection health check started
2025-12-16 12:19:14,188 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:19:14,188 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:19:14,209 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:19:14,209 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:19:14,583 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:19:14,584 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:19:14,584 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:19:14,585 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:19:14,590 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:19:14,590 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:19:14,590 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:19:14,591 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:19:14,591 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_LIBERTEX_DEMO (returned False)
2025-12-16 12:19:14,591 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_ICMARKETS_DEMO (returned False)
2025-12-16 12:19:14,591 - server - INFO - Platform connector initialized and platforms connected for MetaAPI chart data (SDK)
2025-12-16 12:19:14,591 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:19:14,886 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1842.50
2025-12-16 12:19:14,896 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.08
2025-12-16 12:19:14,896 - server - INFO - ‚úÖ PLATINUM: $1842.50 (source: yfinance)
2025-12-16 12:19:14,900 - server - INFO - ‚úÖ SILVER: $63.08 (source: yfinance)
2025-12-16 12:19:14,903 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:14,903 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:19:14,904 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:14,904 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:14,904 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:19:14,905 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:14,930 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4313.80
2025-12-16 12:19:14,930 - server - INFO - ‚úÖ GOLD: $4313.80 (source: yfinance)
2025-12-16 12:19:14,933 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:14,933 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:19:14,934 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:17,012 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1625.00
2025-12-16 12:19:17,012 - server - INFO - ‚úÖ PALLADIUM: $1625.00 (source: yfinance)
2025-12-16 12:19:17,015 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:17,015 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:19:17,015 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:17,031 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.92
2025-12-16 12:19:17,032 - server - INFO - ‚úÖ WTI_CRUDE: $55.92 (source: yfinance)
2025-12-16 12:19:17,034 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:17,034 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:19:17,034 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:17,058 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.70
2025-12-16 12:19:17,058 - server - INFO - ‚úÖ BRENT_CRUDE: $59.70 (source: yfinance)
2025-12-16 12:19:17,062 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:17,062 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:19:17,063 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:19,127 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.96
2025-12-16 12:19:19,128 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:19:19,130 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:19,130 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:19:19,131 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:19,170 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $517.50
2025-12-16 12:19:19,170 - server - INFO - ‚úÖ WHEAT: $517.50 (source: yfinance)
2025-12-16 12:19:19,172 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:19,172 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:19:19,173 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:19,204 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:19:19,204 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:19:19,206 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:19,206 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:19:19,207 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:21,268 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $438.75
2025-12-16 12:19:21,268 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:19:21,271 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:21,271 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:19:21,271 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:21,292 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $356.50
2025-12-16 12:19:21,292 - server - INFO - ‚úÖ COFFEE: $356.50 (source: yfinance)
2025-12-16 12:19:21,295 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:21,295 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:19:21,295 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:21,346 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1072.75
2025-12-16 12:19:21,346 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:19:21,348 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:21,348 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:19:21,349 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:23,406 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.96
2025-12-16 12:19:23,407 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:19:23,409 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:23,409 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:19:23,410 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:23,452 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:19:23,452 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:19:23,454 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:23,455 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:19:23,455 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:23,507 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5912.00
2025-12-16 12:19:23,507 - server - INFO - ‚úÖ COCOA: $5912.00 (source: yfinance)
2025-12-16 12:19:23,510 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:23,510 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:19:23,510 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:25,567 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87227.90
2025-12-16 12:19:25,567 - server - INFO - ‚úÖ BITCOIN: $87227.90 (source: yfinance)
2025-12-16 12:19:25,570 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:25,570 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:19:25,570 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:25,573 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:19:25,573 - server - INFO - ‚úÖ Market Data Updater started (updates every 30 seconds)
2025-12-16 12:19:25,573 - server - INFO - üî¥ Auto-Trading Engine ist DEAKTIVIERT (erstellt Fake-Trades)
2025-12-16 12:19:25,573 - server - INFO - API ready - market data available via /api/market/current and /api/market/refresh
2025-12-16 12:19:25,573 - server - INFO - AI analysis enabled for intelligent trading decisions
2025-12-16 12:19:25,573 - server - INFO - ü§ñ Starting Trade Settings Monitor...
2025-12-16 12:19:25,575 - server - INFO - ‚úÖ Trade Settings Monitor started - √ºberwacht alle Trades automatisch!
2025-12-16 12:19:25,575 - server - INFO - üîÑ Market Data Updater started - ECHTZEIT MODE (15s)
2025-12-16 12:19:25,576 - trade_settings_manager - INFO - ü§ñ Trade Settings Monitor gestartet
2025-12-16 12:19:40,576 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:19:40,577 - server - INFO - ‚úÖ GOLD: $4313.80 (source: yfinance)
2025-12-16 12:19:40,578 - server - INFO - ‚úÖ SILVER: $63.08 (source: yfinance)
2025-12-16 12:19:40,578 - server - INFO - ‚úÖ PLATINUM: $1842.50 (source: yfinance)
2025-12-16 12:19:40,579 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:40,579 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:19:40,579 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:40,579 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:40,579 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:19:40,579 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:40,579 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:40,579 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:19:40,580 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:42,581 - server - INFO - ‚úÖ PALLADIUM: $1625.00 (source: yfinance)
2025-12-16 12:19:42,582 - server - INFO - ‚úÖ WTI_CRUDE: $55.92 (source: yfinance)
2025-12-16 12:19:42,582 - server - INFO - ‚úÖ BRENT_CRUDE: $59.70 (source: yfinance)
2025-12-16 12:19:42,583 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:42,583 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:19:42,583 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:42,583 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:42,583 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:19:42,584 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:42,584 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:42,584 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:19:42,584 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:44,585 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:19:44,586 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:19:44,586 - server - INFO - ‚úÖ WHEAT: $517.50 (source: yfinance)
2025-12-16 12:19:44,587 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:44,587 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:19:44,587 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:44,587 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:44,587 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:19:44,588 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:44,588 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:44,588 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:19:44,588 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:46,589 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:19:46,591 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:19:46,591 - server - INFO - ‚úÖ COFFEE: $356.50 (source: yfinance)
2025-12-16 12:19:46,592 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:46,592 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:19:46,592 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:46,592 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:46,592 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:19:46,592 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:46,593 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:46,593 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:19:46,593 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:48,594 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:19:48,595 - server - INFO - ‚úÖ COCOA: $5912.00 (source: yfinance)
2025-12-16 12:19:48,595 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:19:48,596 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:48,596 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:19:48,597 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:48,597 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:48,597 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:19:48,597 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:48,597 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:48,597 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:19:48,597 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:50,599 - server - INFO - ‚úÖ BITCOIN: $87227.90 (source: yfinance)
2025-12-16 12:19:50,600 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:19:50,600 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:19:50,600 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:19:50,602 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:20:05,470 - database - INFO - SQLite Verbindung geschlossen
2025-12-16 12:20:05,470 - server - INFO - ‚úÖ SQLite Verbindung geschlossen
2025-12-16 12:20:05,470 - server - INFO - Application shutdown complete
2025-12-16 12:20:06,868 - server - WARNING - ‚ö†Ô∏è  Frontend build not found at: /app/frontend/build
2025-12-16 12:20:06,869 - server - WARNING -    Run 'cd /app/frontend && yarn build' to create production build
2025-12-16 12:20:06,869 - server - INFO - üöÄ Server startet mit SQLite...
2025-12-16 12:20:06,870 - database - INFO - ‚úÖ SQLite verbunden (WAL mode, 60s timeout): /app/backend/trading.db
2025-12-16 12:20:06,870 - database - INFO - Erstelle SQLite Schema...
2025-12-16 12:20:06,871 - database - INFO - ‚úÖ SQLite Schema erstellt
2025-12-16 12:20:06,871 - database - INFO - ‚úÖ Database initialized
2025-12-16 12:20:06,871 - server - INFO - ‚úÖ SQLite Datenbank initialisiert
2025-12-16 12:20:06,871 - server - INFO - ‚ÑπÔ∏è  AI Trading Bot wird im Worker-Prozess gestartet
2025-12-16 12:20:06,871 - server - INFO - Starting WTI Smart Trader API...
2025-12-16 12:20:06,871 - server - INFO - Initializing persistent MetaAPI connections...
2025-12-16 12:20:07,064 - multi_platform_connector - INFO - ‚ÑπÔ∏è  Real Account not configured (only Demo available)
2025-12-16 12:20:07,064 - multi_platform_connector - INFO - MultiPlatformConnector (SDK) initialized with 6 platform(s)
2025-12-16 12:20:07,064 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:20:07,065 - multi_platform_connector - INFO - ‚úÖ Shared MetaApi client initialized
2025-12-16 12:20:07,065 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:20:07,434 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:20:07,435 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:20:07,436 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:20:07,436 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:20:07,436 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:20:07,436 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:20:07,851 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:20:07,852 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:20:07,853 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:20:07,853 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:20:07,853 - server - INFO - ‚úÖ Persistent MetaAPI connections established
2025-12-16 12:20:07,853 - llm_fallback - INFO - Fallback LLM configured: openai/gpt-5
2025-12-16 12:20:07,853 - server - INFO - AI Chat initialized: Provider=emergent, Model=gpt-5
2025-12-16 12:20:07,860 - server - INFO - MT5 credentials loaded: Server=ICMarketsEU-Demo, Login=52565616
2025-12-16 12:20:07,860 - server - INFO - ‚úÖ Connection health check started
2025-12-16 12:20:07,860 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:20:07,860 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:20:07,880 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:20:07,880 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:20:08,237 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:20:08,238 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:20:08,238 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:20:08,238 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:20:08,244 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:20:08,245 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:20:08,248 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:20:08,248 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:20:08,250 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_LIBERTEX_DEMO (returned False)
2025-12-16 12:20:08,250 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_ICMARKETS_DEMO (returned False)
2025-12-16 12:20:08,250 - server - INFO - Platform connector initialized and platforms connected for MetaAPI chart data (SDK)
2025-12-16 12:20:08,251 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:20:08,487 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4314.00
2025-12-16 12:20:08,488 - server - INFO - ‚úÖ GOLD: $4314.00 (source: yfinance)
2025-12-16 12:20:08,491 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:08,491 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:20:08,492 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:08,501 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.06
2025-12-16 12:20:08,502 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:20:08,504 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:08,504 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:20:08,505 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:08,526 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1844.60
2025-12-16 12:20:08,526 - server - INFO - ‚úÖ PLATINUM: $1844.60 (source: yfinance)
2025-12-16 12:20:08,528 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:08,529 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:20:08,529 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:10,586 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.93
2025-12-16 12:20:10,586 - server - INFO - ‚úÖ WTI_CRUDE: $55.93 (source: yfinance)
2025-12-16 12:20:10,589 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:10,589 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:20:10,589 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:10,613 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.71
2025-12-16 12:20:10,613 - server - INFO - ‚úÖ BRENT_CRUDE: $59.71 (source: yfinance)
2025-12-16 12:20:10,616 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:10,616 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:20:10,616 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:10,640 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1626.00
2025-12-16 12:20:10,640 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:20:10,642 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:10,643 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:20:10,643 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:12,703 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.96
2025-12-16 12:20:12,704 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:20:12,719 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:20:12,723 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $517.00
2025-12-16 12:20:12,725 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:20:12,727 - server - INFO - ‚úÖ WHEAT: $517.00 (source: yfinance)
2025-12-16 12:20:12,729 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:12,729 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:20:12,729 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:12,729 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:12,729 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:20:12,730 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:12,730 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:12,730 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:20:12,730 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:14,822 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $356.20
2025-12-16 12:20:14,823 - server - INFO - ‚úÖ COFFEE: $356.20 (source: yfinance)
2025-12-16 12:20:14,825 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:14,825 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:20:14,826 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:14,868 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $438.50
2025-12-16 12:20:14,868 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:20:14,870 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:14,870 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:20:14,871 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:14,936 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1072.50
2025-12-16 12:20:14,937 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:20:14,939 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:14,939 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:20:14,939 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:16,995 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.96
2025-12-16 12:20:16,996 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:20:16,998 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:16,998 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:20:16,999 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:17,009 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:20:17,010 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:20:17,021 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5921.00
2025-12-16 12:20:17,021 - server - INFO - ‚úÖ COCOA: $5921.00 (source: yfinance)
2025-12-16 12:20:17,023 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:17,023 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:20:17,024 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:17,024 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:17,024 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:20:17,024 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:19,082 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87238.44
2025-12-16 12:20:19,082 - server - INFO - ‚úÖ BITCOIN: $87238.44 (source: yfinance)
2025-12-16 12:20:19,085 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:19,085 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:20:19,085 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:19,087 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:20:19,087 - server - INFO - ‚úÖ Market Data Updater started (updates every 30 seconds)
2025-12-16 12:20:19,087 - server - INFO - üî¥ Auto-Trading Engine ist DEAKTIVIERT (erstellt Fake-Trades)
2025-12-16 12:20:19,087 - server - INFO - API ready - market data available via /api/market/current and /api/market/refresh
2025-12-16 12:20:19,087 - server - INFO - AI analysis enabled for intelligent trading decisions
2025-12-16 12:20:19,087 - server - INFO - ü§ñ Starting Trade Settings Monitor...
2025-12-16 12:20:19,087 - server - INFO - ‚úÖ Trade Settings Monitor started - √ºberwacht alle Trades automatisch!
2025-12-16 12:20:19,087 - server - INFO - üîÑ Market Data Updater started - ECHTZEIT MODE (15s)
2025-12-16 12:20:19,088 - trade_settings_manager - INFO - ü§ñ Trade Settings Monitor gestartet
2025-12-16 12:20:34,088 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:20:34,089 - server - INFO - ‚úÖ GOLD: $4314.00 (source: yfinance)
2025-12-16 12:20:34,090 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:20:34,090 - server - INFO - ‚úÖ PLATINUM: $1844.60 (source: yfinance)
2025-12-16 12:20:34,091 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:34,091 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:20:34,091 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:34,091 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:34,091 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:20:34,091 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:34,091 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:34,092 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:20:34,092 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:36,093 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:20:36,094 - server - INFO - ‚úÖ WTI_CRUDE: $55.93 (source: yfinance)
2025-12-16 12:20:36,094 - server - INFO - ‚úÖ BRENT_CRUDE: $59.71 (source: yfinance)
2025-12-16 12:20:36,095 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:36,095 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:20:36,095 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:36,095 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:36,095 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:20:36,096 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:36,096 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:36,096 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:20:36,096 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:38,098 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:20:38,098 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:20:38,099 - server - INFO - ‚úÖ WHEAT: $517.00 (source: yfinance)
2025-12-16 12:20:38,100 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:38,100 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:20:38,100 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:38,100 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:38,100 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:20:38,101 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:38,101 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:38,101 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:20:38,101 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:40,102 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:20:40,103 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:20:40,103 - server - INFO - ‚úÖ COFFEE: $356.20 (source: yfinance)
2025-12-16 12:20:40,104 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:40,104 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:20:40,104 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:40,104 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:40,104 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:20:40,104 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:40,105 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:40,105 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:20:40,105 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:42,106 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:20:42,107 - server - INFO - ‚úÖ COCOA: $5921.00 (source: yfinance)
2025-12-16 12:20:42,107 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:20:42,108 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:42,108 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:20:42,108 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:42,109 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:42,109 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:20:42,109 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:42,109 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:42,109 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:20:42,109 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:44,111 - server - INFO - ‚úÖ BITCOIN: $87238.44 (source: yfinance)
2025-12-16 12:20:44,111 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:44,112 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:20:44,112 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:44,113 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:20:54,568 - database - INFO - SQLite Verbindung geschlossen
2025-12-16 12:20:54,568 - server - INFO - ‚úÖ SQLite Verbindung geschlossen
2025-12-16 12:20:54,568 - server - INFO - Application shutdown complete
2025-12-16 12:20:55,658 - server - WARNING - ‚ö†Ô∏è  Frontend build not found at: /app/frontend/build
2025-12-16 12:20:55,658 - server - WARNING -    Run 'cd /app/frontend && yarn build' to create production build
2025-12-16 12:20:55,659 - server - INFO - üöÄ Server startet mit SQLite...
2025-12-16 12:20:55,660 - database - INFO - ‚úÖ SQLite verbunden (WAL mode, 60s timeout): /app/backend/trading.db
2025-12-16 12:20:55,660 - database - INFO - Erstelle SQLite Schema...
2025-12-16 12:20:55,661 - database - INFO - ‚úÖ SQLite Schema erstellt
2025-12-16 12:20:55,661 - database - INFO - ‚úÖ Database initialized
2025-12-16 12:20:55,661 - server - INFO - ‚úÖ SQLite Datenbank initialisiert
2025-12-16 12:20:55,661 - server - INFO - ‚ÑπÔ∏è  AI Trading Bot wird im Worker-Prozess gestartet
2025-12-16 12:20:55,661 - server - INFO - Starting WTI Smart Trader API...
2025-12-16 12:20:55,661 - server - INFO - Initializing persistent MetaAPI connections...
2025-12-16 12:20:55,850 - multi_platform_connector - INFO - ‚ÑπÔ∏è  Real Account not configured (only Demo available)
2025-12-16 12:20:55,850 - multi_platform_connector - INFO - MultiPlatformConnector (SDK) initialized with 6 platform(s)
2025-12-16 12:20:55,850 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:20:55,850 - multi_platform_connector - INFO - ‚úÖ Shared MetaApi client initialized
2025-12-16 12:20:55,850 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:20:56,279 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:20:56,280 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:20:56,281 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:20:56,281 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:20:56,281 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:20:56,281 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:20:56,630 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:20:56,630 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:20:56,631 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:20:56,631 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:20:56,631 - server - INFO - ‚úÖ Persistent MetaAPI connections established
2025-12-16 12:20:56,631 - llm_fallback - INFO - Fallback LLM configured: openai/gpt-5
2025-12-16 12:20:56,631 - server - INFO - AI Chat initialized: Provider=emergent, Model=gpt-5
2025-12-16 12:20:56,637 - server - INFO - MT5 credentials loaded: Server=ICMarketsEU-Demo, Login=52565616
2025-12-16 12:20:56,637 - server - INFO - ‚úÖ Connection health check started
2025-12-16 12:20:56,637 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:20:56,638 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:20:56,658 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:20:56,658 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:20:57,010 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:20:57,011 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:20:57,012 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:20:57,012 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:20:57,027 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:20:57,027 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:20:57,028 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:20:57,028 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:20:57,028 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_LIBERTEX_DEMO (returned False)
2025-12-16 12:20:57,028 - server - WARNING - ‚ö†Ô∏è Failed to connect MT5_ICMARKETS_DEMO (returned False)
2025-12-16 12:20:57,028 - server - INFO - Platform connector initialized and platforms connected for MetaAPI chart data (SDK)
2025-12-16 12:20:57,028 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:20:57,322 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1844.70
2025-12-16 12:20:57,328 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4313.90
2025-12-16 12:20:57,331 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.06
2025-12-16 12:20:57,332 - server - INFO - ‚úÖ PLATINUM: $1844.70 (source: yfinance)
2025-12-16 12:20:57,335 - server - INFO - ‚úÖ GOLD: $4313.90 (source: yfinance)
2025-12-16 12:20:57,337 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:20:57,339 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:57,339 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:20:57,340 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:57,341 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:57,341 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:20:57,341 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:57,341 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:57,341 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:20:57,341 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:59,395 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.72
2025-12-16 12:20:59,395 - server - INFO - ‚úÖ BRENT_CRUDE: $59.72 (source: yfinance)
2025-12-16 12:20:59,398 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:59,398 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:20:59,398 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:59,444 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.83
2025-12-16 12:20:59,444 - server - INFO - ‚úÖ WTI_CRUDE: $55.83 (source: yfinance)
2025-12-16 12:20:59,447 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:59,447 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:20:59,447 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:20:59,474 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1626.00
2025-12-16 12:20:59,474 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:20:59,476 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:20:59,477 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:20:59,477 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:01,532 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $517.25
2025-12-16 12:21:01,532 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:21:01,543 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:21:01,543 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:21:01,546 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:01,546 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:21:01,546 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:01,546 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:01,546 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:21:01,547 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:01,603 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.96
2025-12-16 12:21:01,603 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:21:01,606 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:01,606 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:21:01,606 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:03,664 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $355.85
2025-12-16 12:21:03,664 - server - INFO - ‚úÖ COFFEE: $355.85 (source: yfinance)
2025-12-16 12:21:03,672 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1073.00
2025-12-16 12:21:03,675 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:21:03,677 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:03,677 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:21:03,678 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:03,678 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:03,678 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:21:03,678 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:03,714 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $438.50
2025-12-16 12:21:03,714 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:21:03,717 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:03,717 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:21:03,717 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:05,774 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.96
2025-12-16 12:21:05,774 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:21:05,777 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:05,777 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:21:05,777 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:05,802 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:21:05,803 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:21:05,805 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:05,805 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:21:05,806 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:05,852 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5914.00
2025-12-16 12:21:05,852 - server - INFO - ‚úÖ COCOA: $5914.00 (source: yfinance)
2025-12-16 12:21:05,855 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:05,855 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:21:05,855 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:07,962 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87255.52
2025-12-16 12:21:07,963 - server - INFO - ‚úÖ BITCOIN: $87255.52 (source: yfinance)
2025-12-16 12:21:07,965 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:07,965 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:21:07,966 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:07,967 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:21:07,967 - server - INFO - ‚úÖ Market Data Updater started (updates every 30 seconds)
2025-12-16 12:21:07,967 - server - INFO - üî¥ Auto-Trading Engine ist DEAKTIVIERT (erstellt Fake-Trades)
2025-12-16 12:21:07,967 - server - INFO - API ready - market data available via /api/market/current and /api/market/refresh
2025-12-16 12:21:07,967 - server - INFO - AI analysis enabled for intelligent trading decisions
2025-12-16 12:21:07,967 - server - INFO - ü§ñ Starting Trade Settings Monitor...
2025-12-16 12:21:07,968 - server - INFO - ‚úÖ Trade Settings Monitor started - √ºberwacht alle Trades automatisch!
2025-12-16 12:21:07,968 - server - INFO - üîÑ Market Data Updater started - ECHTZEIT MODE (15s)
2025-12-16 12:21:07,968 - trade_settings_manager - INFO - ü§ñ Trade Settings Monitor gestartet
2025-12-16 12:21:22,970 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:21:22,971 - server - INFO - ‚úÖ GOLD: $4313.90 (source: yfinance)
2025-12-16 12:21:22,971 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:21:22,972 - server - INFO - ‚úÖ PLATINUM: $1844.70 (source: yfinance)
2025-12-16 12:21:22,972 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:22,972 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:21:22,973 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:22,973 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:22,973 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:21:22,973 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:22,973 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:22,973 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:21:22,973 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:24,974 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:21:24,975 - server - INFO - ‚úÖ WTI_CRUDE: $55.83 (source: yfinance)
2025-12-16 12:21:24,975 - server - INFO - ‚úÖ BRENT_CRUDE: $59.72 (source: yfinance)
2025-12-16 12:21:24,976 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:24,976 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:21:24,977 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:24,977 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:24,977 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:21:24,977 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:24,977 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:24,977 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:21:24,977 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:26,978 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:21:26,979 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:21:26,979 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:21:26,980 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:26,980 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:21:26,980 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:26,980 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:26,980 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:21:26,980 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:26,980 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:26,980 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:21:26,981 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:28,982 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:21:28,983 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:21:28,985 - server - INFO - ‚úÖ COFFEE: $355.85 (source: yfinance)
2025-12-16 12:21:28,986 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:28,986 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:21:28,986 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:28,986 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:28,986 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:21:28,987 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:28,987 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:28,987 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:21:28,987 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:30,988 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:21:30,989 - server - INFO - ‚úÖ COCOA: $5914.00 (source: yfinance)
2025-12-16 12:21:30,989 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:21:30,990 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:30,990 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:21:30,990 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:30,991 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:30,991 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:21:30,991 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:30,991 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:30,991 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:21:30,991 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:32,992 - server - INFO - ‚úÖ BITCOIN: $87255.52 (source: yfinance)
2025-12-16 12:21:32,993 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:32,993 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:21:32,993 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:32,994 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:21:47,996 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:21:47,996 - server - INFO - ‚úÖ GOLD: $4313.90 (source: yfinance)
2025-12-16 12:21:47,997 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:21:47,997 - server - INFO - ‚úÖ PLATINUM: $1844.70 (source: yfinance)
2025-12-16 12:21:47,998 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:47,998 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:21:47,998 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:47,998 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:47,998 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:21:47,999 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:47,999 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:47,999 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:21:47,999 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:50,001 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:21:50,002 - server - INFO - ‚úÖ WTI_CRUDE: $55.83 (source: yfinance)
2025-12-16 12:21:50,002 - server - INFO - ‚úÖ BRENT_CRUDE: $59.72 (source: yfinance)
2025-12-16 12:21:50,003 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:50,003 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:21:50,004 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:50,004 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:50,004 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:21:50,004 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:50,004 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:50,004 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:21:50,004 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:52,006 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:21:52,006 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:21:52,007 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:21:52,007 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:52,007 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:21:52,008 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:52,008 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:52,008 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:21:52,008 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:52,008 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:52,008 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:21:52,008 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:54,010 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:21:54,011 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:21:54,011 - server - INFO - ‚úÖ COFFEE: $355.85 (source: yfinance)
2025-12-16 12:21:54,012 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:54,012 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:21:54,013 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:54,013 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:54,013 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:21:54,013 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:54,013 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:54,013 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:21:54,013 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:56,015 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:21:56,015 - server - INFO - ‚úÖ COCOA: $5914.00 (source: yfinance)
2025-12-16 12:21:56,016 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:21:56,016 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:56,016 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:21:56,017 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:56,017 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:56,017 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:21:56,017 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:56,017 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:56,017 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:21:56,017 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:56,638 - server - INFO - üîç Connection health check...
2025-12-16 12:21:56,638 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:21:56,638 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:21:56,638 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:21:57,037 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:21:57,037 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:21:57,038 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:21:57,038 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:21:57,038 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:21:57,038 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:21:57,038 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:21:57,383 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:21:57,383 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:21:57,384 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:21:57,384 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:21:57,384 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:21:58,019 - server - INFO - ‚úÖ BITCOIN: $87255.52 (source: yfinance)
2025-12-16 12:21:58,020 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:21:58,020 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:21:58,020 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:21:58,021 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:22:13,023 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:22:13,023 - server - INFO - ‚úÖ GOLD: $4313.90 (source: yfinance)
2025-12-16 12:22:13,024 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:22:13,024 - server - INFO - ‚úÖ PLATINUM: $1844.70 (source: yfinance)
2025-12-16 12:22:13,025 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:13,025 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:22:13,025 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:13,025 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:13,025 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:22:13,026 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:13,026 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:13,026 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:22:13,026 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:15,027 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:22:15,027 - server - INFO - ‚úÖ WTI_CRUDE: $55.83 (source: yfinance)
2025-12-16 12:22:15,028 - server - INFO - ‚úÖ BRENT_CRUDE: $59.72 (source: yfinance)
2025-12-16 12:22:15,028 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:15,028 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:22:15,029 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:15,029 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:15,029 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:22:15,029 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:15,029 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:15,029 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:22:15,030 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:17,032 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:22:17,062 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:22:17,062 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:22:17,063 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:17,063 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:22:17,064 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:17,064 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:17,064 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:22:17,064 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:17,064 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:17,064 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:22:17,064 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:19,065 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:22:19,066 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:22:19,066 - server - INFO - ‚úÖ COFFEE: $355.85 (source: yfinance)
2025-12-16 12:22:19,067 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:19,067 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:22:19,067 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:19,067 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:19,067 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:22:19,067 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:19,067 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:19,067 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:22:19,068 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:21,070 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:22:21,070 - server - INFO - ‚úÖ COCOA: $5914.00 (source: yfinance)
2025-12-16 12:22:21,071 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:22:21,071 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:21,072 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:22:21,072 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:21,072 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:21,072 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:22:21,072 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:21,072 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:21,072 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:22:21,073 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:23,074 - server - INFO - ‚úÖ BITCOIN: $87255.52 (source: yfinance)
2025-12-16 12:22:23,075 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:23,075 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:22:23,075 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:23,077 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:22:38,078 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:22:38,079 - server - INFO - ‚úÖ GOLD: $4313.90 (source: yfinance)
2025-12-16 12:22:38,079 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:22:38,080 - server - INFO - ‚úÖ PLATINUM: $1844.70 (source: yfinance)
2025-12-16 12:22:38,080 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:38,080 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:22:38,081 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:38,081 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:38,081 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:22:38,081 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:38,081 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:38,081 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:22:38,081 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:40,082 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:22:40,083 - server - INFO - ‚úÖ WTI_CRUDE: $55.83 (source: yfinance)
2025-12-16 12:22:40,083 - server - INFO - ‚úÖ BRENT_CRUDE: $59.72 (source: yfinance)
2025-12-16 12:22:40,084 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:40,084 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:22:40,084 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:40,084 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:40,084 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:22:40,084 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:40,084 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:40,084 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:22:40,085 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:42,085 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:22:42,086 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:22:42,088 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:22:42,089 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:42,089 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:22:42,089 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:42,089 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:42,089 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:22:42,090 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:42,090 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:42,090 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:22:42,090 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:44,092 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:22:44,092 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:22:44,093 - server - INFO - ‚úÖ COFFEE: $355.85 (source: yfinance)
2025-12-16 12:22:44,093 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:44,093 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:22:44,094 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:44,094 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:44,094 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:22:44,094 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:44,094 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:44,094 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:22:44,094 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:46,095 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:22:46,096 - server - INFO - ‚úÖ COCOA: $5914.00 (source: yfinance)
2025-12-16 12:22:46,096 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:22:46,097 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:46,097 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:22:46,097 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:46,097 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:46,097 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:22:46,098 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:46,098 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:46,098 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:22:46,098 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:48,098 - server - INFO - ‚úÖ BITCOIN: $87255.52 (source: yfinance)
2025-12-16 12:22:48,099 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:22:48,100 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:22:48,100 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:22:48,101 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:22:57,385 - server - INFO - üîç Connection health check...
2025-12-16 12:22:57,386 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:22:57,386 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:22:57,386 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:22:57,837 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:22:57,838 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:22:57,838 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:22:57,838 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:22:57,838 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:22:57,838 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:22:57,838 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:22:58,194 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:22:58,195 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:22:58,195 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:22:58,195 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:22:58,195 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:23:03,103 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:23:03,103 - server - INFO - ‚úÖ GOLD: $4313.90 (source: yfinance)
2025-12-16 12:23:03,104 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:23:03,104 - server - INFO - ‚úÖ PLATINUM: $1844.70 (source: yfinance)
2025-12-16 12:23:03,105 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:03,105 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:23:03,105 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:03,105 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:03,105 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:23:03,105 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:03,106 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:03,106 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:23:03,106 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:05,107 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:23:05,108 - server - INFO - ‚úÖ WTI_CRUDE: $55.83 (source: yfinance)
2025-12-16 12:23:05,108 - server - INFO - ‚úÖ BRENT_CRUDE: $59.72 (source: yfinance)
2025-12-16 12:23:05,109 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:05,109 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:23:05,111 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:05,111 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:05,111 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:23:05,112 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:05,112 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:05,112 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:23:05,112 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:07,113 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:23:07,114 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:23:07,114 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:23:07,115 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:07,115 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:23:07,115 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:07,115 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:07,115 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:23:07,116 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:07,116 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:07,116 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:23:07,116 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:09,117 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:23:09,117 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:23:09,118 - server - INFO - ‚úÖ COFFEE: $355.85 (source: yfinance)
2025-12-16 12:23:09,119 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:09,119 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:23:09,119 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:09,119 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:09,119 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:23:09,119 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:09,119 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:09,119 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:23:09,120 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:11,121 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:23:11,122 - server - INFO - ‚úÖ COCOA: $5914.00 (source: yfinance)
2025-12-16 12:23:11,122 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:23:11,123 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:11,123 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:23:11,123 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:11,123 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:11,123 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:23:11,124 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:11,124 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:11,124 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:23:11,124 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:13,125 - server - INFO - ‚úÖ BITCOIN: $87255.52 (source: yfinance)
2025-12-16 12:23:13,126 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:13,126 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:23:13,127 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:13,128 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:23:28,129 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:23:28,130 - server - INFO - ‚úÖ GOLD: $4313.90 (source: yfinance)
2025-12-16 12:23:28,130 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:23:28,131 - server - INFO - ‚úÖ PLATINUM: $1844.70 (source: yfinance)
2025-12-16 12:23:28,132 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:28,132 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:23:28,132 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:28,132 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:28,132 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:23:28,133 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:28,133 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:28,133 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:23:28,133 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:30,134 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:23:30,135 - server - INFO - ‚úÖ WTI_CRUDE: $55.83 (source: yfinance)
2025-12-16 12:23:30,136 - server - INFO - ‚úÖ BRENT_CRUDE: $59.72 (source: yfinance)
2025-12-16 12:23:30,136 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:30,136 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:23:30,137 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:30,137 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:30,137 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:23:30,137 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:30,137 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:30,137 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:23:30,137 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:32,139 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:23:32,140 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:23:32,140 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:23:32,141 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:32,141 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:23:32,141 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:32,141 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:32,142 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:23:32,142 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:32,142 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:32,142 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:23:32,142 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:34,143 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:23:34,144 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:23:34,145 - server - INFO - ‚úÖ COFFEE: $355.85 (source: yfinance)
2025-12-16 12:23:34,145 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:34,145 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:23:34,146 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:34,146 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:34,146 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:23:34,146 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:34,146 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:34,146 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:23:34,146 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:36,148 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:23:36,148 - server - INFO - ‚úÖ COCOA: $5914.00 (source: yfinance)
2025-12-16 12:23:36,149 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:23:36,151 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:36,151 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:23:36,151 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:36,151 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:36,151 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:23:36,152 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:36,152 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:36,152 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:23:36,152 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:38,152 - server - INFO - ‚úÖ BITCOIN: $87255.52 (source: yfinance)
2025-12-16 12:23:38,153 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:38,153 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:23:38,154 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:38,155 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:23:53,157 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:23:53,157 - server - INFO - ‚úÖ GOLD: $4313.90 (source: yfinance)
2025-12-16 12:23:53,158 - server - INFO - ‚úÖ SILVER: $63.06 (source: yfinance)
2025-12-16 12:23:53,158 - server - INFO - ‚úÖ PLATINUM: $1844.70 (source: yfinance)
2025-12-16 12:23:53,159 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:53,159 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:23:53,159 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:53,159 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:53,159 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:23:53,160 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:53,160 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:53,160 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:23:53,160 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:55,160 - server - INFO - ‚úÖ PALLADIUM: $1626.00 (source: yfinance)
2025-12-16 12:23:55,161 - server - INFO - ‚úÖ WTI_CRUDE: $55.83 (source: yfinance)
2025-12-16 12:23:55,161 - server - INFO - ‚úÖ BRENT_CRUDE: $59.72 (source: yfinance)
2025-12-16 12:23:55,162 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:55,162 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:23:55,162 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:55,163 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:55,163 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:23:55,163 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:55,163 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:55,163 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:23:55,163 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:57,164 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:23:57,164 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:23:57,165 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:23:57,165 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:57,165 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:23:57,166 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:57,166 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:57,166 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:23:57,166 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:57,166 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:57,167 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:23:57,167 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:58,196 - server - INFO - üîç Connection health check...
2025-12-16 12:23:58,196 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:23:58,196 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:23:58,196 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:23:58,611 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:23:58,611 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:23:58,612 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:23:58,612 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:23:58,612 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:23:58,612 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:23:58,612 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:23:58,952 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:23:58,953 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:23:58,953 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:23:58,953 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:23:58,953 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:23:59,169 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:23:59,170 - server - INFO - ‚úÖ SOYBEANS: $1073.00 (source: yfinance)
2025-12-16 12:23:59,170 - server - INFO - ‚úÖ COFFEE: $355.85 (source: yfinance)
2025-12-16 12:23:59,171 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:59,171 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:23:59,171 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:59,171 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:59,171 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:23:59,172 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:23:59,172 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:23:59,172 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:23:59,172 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:01,172 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:24:01,173 - server - INFO - ‚úÖ COCOA: $5914.00 (source: yfinance)
2025-12-16 12:24:01,173 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:24:01,174 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:01,174 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:24:01,175 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:01,175 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:01,175 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:24:01,175 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:01,175 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:01,175 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:24:01,175 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:03,176 - server - INFO - ‚úÖ BITCOIN: $87255.52 (source: yfinance)
2025-12-16 12:24:03,177 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:03,177 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:24:03,177 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:03,179 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:24:18,179 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:24:18,306 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4316.50
2025-12-16 12:24:18,307 - server - INFO - ‚úÖ GOLD: $4316.50 (source: yfinance)
2025-12-16 12:24:18,309 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:18,310 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:24:18,310 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:18,349 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1848.90
2025-12-16 12:24:18,349 - server - INFO - ‚úÖ PLATINUM: $1848.90 (source: yfinance)
2025-12-16 12:24:18,369 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:18,369 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:24:18,369 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:18,370 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.15
2025-12-16 12:24:18,370 - server - INFO - ‚úÖ SILVER: $63.15 (source: yfinance)
2025-12-16 12:24:18,373 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:18,373 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:24:18,373 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:20,484 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1627.00
2025-12-16 12:24:20,486 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.97
2025-12-16 12:24:20,492 - server - INFO - ‚úÖ PALLADIUM: $1627.00 (source: yfinance)
2025-12-16 12:24:20,496 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.74
2025-12-16 12:24:20,498 - server - INFO - ‚úÖ WTI_CRUDE: $55.97 (source: yfinance)
2025-12-16 12:24:20,500 - server - INFO - ‚úÖ BRENT_CRUDE: $59.74 (source: yfinance)
2025-12-16 12:24:20,502 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:20,503 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:24:20,503 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:20,503 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:20,503 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:24:20,503 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:20,503 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:20,503 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:24:20,504 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:22,567 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:24:22,567 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:24:22,570 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:22,570 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:24:22,570 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:22,605 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $517.25
2025-12-16 12:24:22,606 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:24:22,608 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:22,608 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:24:22,609 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:22,642 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.96
2025-12-16 12:24:22,642 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:24:22,645 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:22,645 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:24:22,646 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:24,705 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1072.50
2025-12-16 12:24:24,705 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:24:24,708 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:24,708 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:24:24,708 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:24,729 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $355.90
2025-12-16 12:24:24,732 - server - INFO - ‚úÖ COFFEE: $355.90 (source: yfinance)
2025-12-16 12:24:24,740 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $438.50
2025-12-16 12:24:24,741 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:24,741 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:24:24,741 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:24,741 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:24:24,744 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:24,744 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:24:24,744 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:26,797 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5900.00
2025-12-16 12:24:26,800 - server - INFO - ‚úÖ COCOA: $5900.00 (source: yfinance)
2025-12-16 12:24:26,806 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.96
2025-12-16 12:24:26,808 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:24:26,810 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:26,811 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:24:26,811 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:26,811 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:26,811 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:24:26,811 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:26,855 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:24:26,855 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:24:26,858 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:26,858 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:24:26,858 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:28,966 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87201.16
2025-12-16 12:24:28,966 - server - INFO - ‚úÖ BITCOIN: $87201.16 (source: yfinance)
2025-12-16 12:24:28,968 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:28,968 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:24:28,969 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:28,970 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:24:43,971 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:24:43,972 - server - INFO - ‚úÖ GOLD: $4316.50 (source: yfinance)
2025-12-16 12:24:43,973 - server - INFO - ‚úÖ SILVER: $63.15 (source: yfinance)
2025-12-16 12:24:43,973 - server - INFO - ‚úÖ PLATINUM: $1848.90 (source: yfinance)
2025-12-16 12:24:43,974 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:43,974 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:24:43,974 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:43,974 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:43,974 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:24:43,974 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:43,975 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:43,975 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:24:43,975 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:45,976 - server - INFO - ‚úÖ PALLADIUM: $1627.00 (source: yfinance)
2025-12-16 12:24:45,977 - server - INFO - ‚úÖ WTI_CRUDE: $55.97 (source: yfinance)
2025-12-16 12:24:45,977 - server - INFO - ‚úÖ BRENT_CRUDE: $59.74 (source: yfinance)
2025-12-16 12:24:45,978 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:45,978 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:24:45,978 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:45,979 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:45,979 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:24:45,979 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:45,979 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:45,979 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:24:45,979 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:47,980 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:24:47,981 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:24:47,981 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:24:47,982 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:47,982 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:24:47,982 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:47,982 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:47,982 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:24:47,983 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:47,983 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:47,983 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:24:47,983 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:49,984 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:24:49,984 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:24:49,985 - server - INFO - ‚úÖ COFFEE: $355.90 (source: yfinance)
2025-12-16 12:24:49,985 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:49,986 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:24:49,986 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:49,986 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:49,986 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:24:49,986 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:49,986 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:49,986 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:24:49,987 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:51,987 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:24:51,988 - server - INFO - ‚úÖ COCOA: $5900.00 (source: yfinance)
2025-12-16 12:24:51,989 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:24:51,991 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:51,991 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:24:51,991 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:51,991 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:51,991 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:24:51,992 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:51,992 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:51,992 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:24:51,992 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:53,994 - server - INFO - ‚úÖ BITCOIN: $87201.16 (source: yfinance)
2025-12-16 12:24:53,995 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:24:53,995 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:24:53,996 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:24:53,997 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:24:58,959 - server - INFO - üîç Connection health check...
2025-12-16 12:24:58,961 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:24:58,961 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:24:58,961 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:24:59,459 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:24:59,464 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:24:59,471 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:24:59,472 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:24:59,475 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:24:59,475 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:24:59,475 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:24:59,901 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:24:59,902 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:24:59,903 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:24:59,903 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:24:59,903 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:25:09,049 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:25:09,050 - server - INFO - ‚úÖ GOLD: $4316.50 (source: yfinance)
2025-12-16 12:25:09,050 - server - INFO - ‚úÖ SILVER: $63.15 (source: yfinance)
2025-12-16 12:25:09,051 - server - INFO - ‚úÖ PLATINUM: $1848.90 (source: yfinance)
2025-12-16 12:25:09,052 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:09,052 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:25:09,052 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:09,052 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:09,052 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:25:09,053 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:09,053 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:09,053 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:25:09,053 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:11,053 - server - INFO - ‚úÖ PALLADIUM: $1627.00 (source: yfinance)
2025-12-16 12:25:11,054 - server - INFO - ‚úÖ WTI_CRUDE: $55.97 (source: yfinance)
2025-12-16 12:25:11,055 - server - INFO - ‚úÖ BRENT_CRUDE: $59.74 (source: yfinance)
2025-12-16 12:25:11,055 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:11,055 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:25:11,056 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:11,056 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:11,056 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:25:11,056 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:11,056 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:11,056 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:25:11,056 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:13,057 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:25:13,058 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:25:13,058 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:25:13,059 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:13,059 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:25:13,059 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:13,060 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:13,060 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:25:13,060 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:13,060 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:13,060 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:25:13,060 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:15,061 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:25:15,064 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:25:15,066 - server - INFO - ‚úÖ COFFEE: $355.90 (source: yfinance)
2025-12-16 12:25:15,067 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:15,068 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:25:15,069 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:15,069 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:15,069 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:25:15,069 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:15,069 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:15,069 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:25:15,070 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:17,074 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:25:17,074 - server - INFO - ‚úÖ COCOA: $5900.00 (source: yfinance)
2025-12-16 12:25:17,075 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:25:17,076 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:17,076 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:25:17,078 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:17,078 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:17,078 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:25:17,078 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:17,078 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:17,078 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:25:17,079 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:19,080 - server - INFO - ‚úÖ BITCOIN: $87201.16 (source: yfinance)
2025-12-16 12:25:19,081 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:19,081 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:25:19,081 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:19,083 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:25:34,084 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:25:34,084 - server - INFO - ‚úÖ GOLD: $4316.50 (source: yfinance)
2025-12-16 12:25:34,085 - server - INFO - ‚úÖ SILVER: $63.15 (source: yfinance)
2025-12-16 12:25:34,085 - server - INFO - ‚úÖ PLATINUM: $1848.90 (source: yfinance)
2025-12-16 12:25:34,086 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:34,086 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:25:34,086 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:34,086 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:34,086 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:25:34,087 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:34,087 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:34,087 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:25:34,087 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:36,088 - server - INFO - ‚úÖ PALLADIUM: $1627.00 (source: yfinance)
2025-12-16 12:25:36,088 - server - INFO - ‚úÖ WTI_CRUDE: $55.97 (source: yfinance)
2025-12-16 12:25:36,089 - server - INFO - ‚úÖ BRENT_CRUDE: $59.74 (source: yfinance)
2025-12-16 12:25:36,090 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:36,090 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:25:36,090 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:36,090 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:36,090 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:25:36,091 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:36,091 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:36,091 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:25:36,091 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:38,092 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:25:38,093 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:25:38,093 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:25:38,094 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:38,094 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:25:38,095 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:38,095 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:38,095 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:25:38,095 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:38,095 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:38,095 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:25:38,095 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:40,097 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:25:40,097 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:25:40,098 - server - INFO - ‚úÖ COFFEE: $355.90 (source: yfinance)
2025-12-16 12:25:40,098 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:40,099 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:25:40,099 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:40,099 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:40,099 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:25:40,099 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:40,099 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:40,099 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:25:40,100 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:42,101 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:25:42,102 - server - INFO - ‚úÖ COCOA: $5900.00 (source: yfinance)
2025-12-16 12:25:42,102 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:25:42,103 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:42,103 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:25:42,103 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:42,103 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:42,103 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:25:42,104 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:42,104 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:42,104 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:25:42,104 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:44,105 - server - INFO - ‚úÖ BITCOIN: $87201.16 (source: yfinance)
2025-12-16 12:25:44,109 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:44,109 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:25:44,110 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:44,112 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:25:59,112 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:25:59,113 - server - INFO - ‚úÖ GOLD: $4316.50 (source: yfinance)
2025-12-16 12:25:59,113 - server - INFO - ‚úÖ SILVER: $63.15 (source: yfinance)
2025-12-16 12:25:59,114 - server - INFO - ‚úÖ PLATINUM: $1848.90 (source: yfinance)
2025-12-16 12:25:59,114 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:59,114 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:25:59,115 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:59,115 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:59,115 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:25:59,115 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:59,115 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:25:59,115 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:25:59,115 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:25:59,903 - server - INFO - üîç Connection health check...
2025-12-16 12:25:59,904 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:25:59,904 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:25:59,904 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:26:00,289 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:26:00,290 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:26:00,290 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:26:00,290 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:26:00,290 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:26:00,290 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:26:00,290 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:26:00,632 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:26:00,633 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:26:00,633 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:26:00,633 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:26:00,633 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:26:01,117 - server - INFO - ‚úÖ PALLADIUM: $1627.00 (source: yfinance)
2025-12-16 12:26:01,117 - server - INFO - ‚úÖ WTI_CRUDE: $55.97 (source: yfinance)
2025-12-16 12:26:01,118 - server - INFO - ‚úÖ BRENT_CRUDE: $59.74 (source: yfinance)
2025-12-16 12:26:01,119 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:01,119 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:26:01,119 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:01,119 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:01,119 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:26:01,119 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:01,120 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:01,120 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:26:01,120 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:03,120 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:26:03,121 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:26:03,121 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:26:03,122 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:03,122 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:26:03,123 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:03,123 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:03,123 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:26:03,123 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:03,123 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:03,123 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:26:03,123 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:05,124 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:26:05,124 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:26:05,125 - server - INFO - ‚úÖ COFFEE: $355.90 (source: yfinance)
2025-12-16 12:26:05,126 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:05,126 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:26:05,126 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:05,126 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:05,126 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:26:05,127 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:05,127 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:05,127 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:26:05,127 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:07,128 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:26:07,129 - server - INFO - ‚úÖ COCOA: $5900.00 (source: yfinance)
2025-12-16 12:26:07,130 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:26:07,130 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:07,131 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:26:07,131 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:07,131 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:07,131 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:26:07,131 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:07,131 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:07,131 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:26:07,132 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:09,150 - server - INFO - ‚úÖ BITCOIN: $87201.16 (source: yfinance)
2025-12-16 12:26:09,151 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:09,152 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:26:09,152 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:09,154 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:26:24,157 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:26:24,159 - server - INFO - ‚úÖ GOLD: $4316.50 (source: yfinance)
2025-12-16 12:26:24,162 - server - INFO - ‚úÖ SILVER: $63.15 (source: yfinance)
2025-12-16 12:26:24,163 - server - INFO - ‚úÖ PLATINUM: $1848.90 (source: yfinance)
2025-12-16 12:26:24,165 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:24,165 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:26:24,166 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:24,166 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:24,166 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:26:24,166 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:24,169 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:24,169 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:26:24,169 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:26,171 - server - INFO - ‚úÖ PALLADIUM: $1627.00 (source: yfinance)
2025-12-16 12:26:26,172 - server - INFO - ‚úÖ WTI_CRUDE: $55.97 (source: yfinance)
2025-12-16 12:26:26,173 - server - INFO - ‚úÖ BRENT_CRUDE: $59.74 (source: yfinance)
2025-12-16 12:26:26,175 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:26,176 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:26:26,176 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:26,176 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:26,176 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:26:26,177 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:26,177 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:26,177 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:26:26,178 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:28,179 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:26:28,182 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:26:28,185 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:26:28,193 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:28,194 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:26:28,196 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:28,196 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:28,196 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:26:28,196 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:28,196 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:28,196 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:26:28,200 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:30,201 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:26:30,202 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:26:30,205 - server - INFO - ‚úÖ COFFEE: $355.90 (source: yfinance)
2025-12-16 12:26:30,206 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:30,206 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:26:30,207 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:30,207 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:30,207 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:26:30,208 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:30,208 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:30,208 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:26:30,208 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:32,209 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:26:32,209 - server - INFO - ‚úÖ COCOA: $5900.00 (source: yfinance)
2025-12-16 12:26:32,210 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:26:32,211 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:32,211 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:26:32,212 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:32,212 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:32,212 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:26:32,212 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:32,212 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:32,212 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:26:32,212 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:34,213 - server - INFO - ‚úÖ BITCOIN: $87201.16 (source: yfinance)
2025-12-16 12:26:34,215 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:34,215 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:26:34,215 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:34,217 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:26:49,219 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:26:49,221 - server - INFO - ‚úÖ GOLD: $4316.50 (source: yfinance)
2025-12-16 12:26:49,222 - server - INFO - ‚úÖ SILVER: $63.15 (source: yfinance)
2025-12-16 12:26:49,222 - server - INFO - ‚úÖ PLATINUM: $1848.90 (source: yfinance)
2025-12-16 12:26:49,223 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:49,223 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:26:49,223 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:49,224 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:49,224 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:26:49,224 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:49,224 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:49,224 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:26:49,224 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:51,226 - server - INFO - ‚úÖ PALLADIUM: $1627.00 (source: yfinance)
2025-12-16 12:26:51,228 - server - INFO - ‚úÖ WTI_CRUDE: $55.97 (source: yfinance)
2025-12-16 12:26:51,228 - server - INFO - ‚úÖ BRENT_CRUDE: $59.74 (source: yfinance)
2025-12-16 12:26:51,232 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:51,232 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:26:51,233 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:51,233 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:51,233 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:26:51,233 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:51,233 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:51,233 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:26:51,233 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:53,236 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:26:53,239 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:26:53,239 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:26:53,241 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:53,242 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:26:53,244 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:53,244 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:53,244 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:26:53,244 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:53,244 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:53,244 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:26:53,245 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:55,246 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:26:55,247 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:26:55,247 - server - INFO - ‚úÖ COFFEE: $355.90 (source: yfinance)
2025-12-16 12:26:55,248 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:55,248 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:26:55,249 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:55,249 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:55,249 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:26:55,250 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:55,250 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:55,250 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:26:55,250 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:57,250 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:26:57,251 - server - INFO - ‚úÖ COCOA: $5900.00 (source: yfinance)
2025-12-16 12:26:57,252 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:26:57,255 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:57,255 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:26:57,255 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:57,255 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:57,255 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:26:57,255 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:57,255 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:57,255 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:26:57,256 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:59,257 - server - INFO - ‚úÖ BITCOIN: $87201.16 (source: yfinance)
2025-12-16 12:26:59,258 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:26:59,258 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:26:59,259 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:26:59,263 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:27:00,634 - server - INFO - üîç Connection health check...
2025-12-16 12:27:00,635 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:27:00,635 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:27:00,635 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:27:01,015 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:27:01,016 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:27:01,016 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:27:01,017 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:27:01,017 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:27:01,017 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:27:01,017 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:27:01,363 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:27:01,363 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:27:01,364 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:27:01,364 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:27:01,364 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:27:14,264 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:27:14,265 - server - INFO - ‚úÖ GOLD: $4316.50 (source: yfinance)
2025-12-16 12:27:14,266 - server - INFO - ‚úÖ SILVER: $63.15 (source: yfinance)
2025-12-16 12:27:14,266 - server - INFO - ‚úÖ PLATINUM: $1848.90 (source: yfinance)
2025-12-16 12:27:14,267 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:14,267 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:27:14,268 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:14,268 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:14,268 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:27:14,268 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:14,268 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:14,268 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:27:14,269 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:16,270 - server - INFO - ‚úÖ PALLADIUM: $1627.00 (source: yfinance)
2025-12-16 12:27:16,271 - server - INFO - ‚úÖ WTI_CRUDE: $55.97 (source: yfinance)
2025-12-16 12:27:16,272 - server - INFO - ‚úÖ BRENT_CRUDE: $59.74 (source: yfinance)
2025-12-16 12:27:16,273 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:16,273 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:27:16,274 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:16,274 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:16,274 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:27:16,274 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:16,274 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:16,274 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:27:16,274 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:18,276 - server - INFO - ‚úÖ NATURAL_GAS: $3.96 (source: yfinance)
2025-12-16 12:27:18,276 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:27:18,277 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:27:18,279 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:18,279 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:27:18,279 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:18,279 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:18,279 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:27:18,280 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:18,280 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:18,280 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:27:18,280 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:20,281 - server - INFO - ‚úÖ CORN: $438.50 (source: yfinance)
2025-12-16 12:27:20,282 - server - INFO - ‚úÖ SOYBEANS: $1072.50 (source: yfinance)
2025-12-16 12:27:20,283 - server - INFO - ‚úÖ COFFEE: $355.90 (source: yfinance)
2025-12-16 12:27:20,283 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:20,284 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:27:20,284 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:20,284 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:20,284 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:27:20,284 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:20,287 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:20,287 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:27:20,287 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:22,288 - server - INFO - ‚úÖ SUGAR: $14.96 (source: yfinance)
2025-12-16 12:27:22,288 - server - INFO - ‚úÖ COCOA: $5900.00 (source: yfinance)
2025-12-16 12:27:22,289 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:27:22,290 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:22,290 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:27:22,290 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:22,290 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:22,290 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:27:22,290 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:22,290 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:22,290 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:27:22,291 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:24,291 - server - INFO - ‚úÖ BITCOIN: $87201.16 (source: yfinance)
2025-12-16 12:27:24,292 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:24,292 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:27:24,293 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:24,294 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:27:39,295 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:27:39,913 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SILVER (SI=F) = $63.16
2025-12-16 12:27:39,919 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PLATINUM (PL=F) = $1851.70
2025-12-16 12:27:39,920 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: GOLD (GC=F) = $4317.10
2025-12-16 12:27:39,926 - server - INFO - ‚úÖ GOLD: $4317.10 (source: yfinance)
2025-12-16 12:27:39,952 - server - INFO - ‚úÖ PLATINUM: $1851.70 (source: yfinance)
2025-12-16 12:27:39,954 - server - INFO - ‚úÖ SILVER: $63.16 (source: yfinance)
2025-12-16 12:27:39,966 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:39,967 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:27:39,967 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:39,967 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:39,968 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:27:39,968 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:39,968 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:39,968 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:27:39,969 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:42,075 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WTI_CRUDE (CL=F) = $55.85
2025-12-16 12:27:42,075 - server - INFO - ‚úÖ WTI_CRUDE: $55.85 (source: yfinance)
2025-12-16 12:27:42,078 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:42,078 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:27:42,079 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:42,161 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: PALLADIUM (PA=F) = $1633.50
2025-12-16 12:27:42,166 - server - INFO - ‚úÖ PALLADIUM: $1633.50 (source: yfinance)
2025-12-16 12:27:42,168 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:42,169 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:27:42,169 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:42,181 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BRENT_CRUDE (BZ=F) = $59.73
2025-12-16 12:27:42,181 - server - INFO - ‚úÖ BRENT_CRUDE: $59.73 (source: yfinance)
2025-12-16 12:27:42,185 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:42,185 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:27:42,186 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:44,269 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: WHEAT (ZW=F) = $517.25
2025-12-16 12:27:44,269 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:27:44,278 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: NATURAL_GAS (NG=F) = $3.94
2025-12-16 12:27:44,281 - server - INFO - ‚úÖ NATURAL_GAS: $3.94 (source: yfinance)
2025-12-16 12:27:44,283 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:44,283 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:27:44,283 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:44,283 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:44,283 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:27:44,284 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:44,294 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COPPER (HG=F) = $5.37
2025-12-16 12:27:44,294 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:27:44,297 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:44,297 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:27:44,297 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:46,356 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: CORN (ZC=F) = $438.75
2025-12-16 12:27:46,357 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:27:46,367 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SOYBEANS (ZS=F) = $1072.75
2025-12-16 12:27:46,368 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:27:46,370 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:46,370 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:27:46,371 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:46,371 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:46,371 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:27:46,371 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:46,453 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COFFEE (KC=F) = $355.40
2025-12-16 12:27:46,455 - server - INFO - ‚úÖ COFFEE: $355.40 (source: yfinance)
2025-12-16 12:27:46,459 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:46,459 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:27:46,460 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:48,558 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: EURUSD (EURUSD=X) = $1.18
2025-12-16 12:27:48,567 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: SUGAR (SB=F) = $14.95
2025-12-16 12:27:48,567 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:27:48,570 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:27:48,572 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:48,573 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:27:48,573 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:48,573 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:48,573 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:27:48,574 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:48,726 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: COCOA (CC=F) = $5902.00
2025-12-16 12:27:48,727 - server - INFO - ‚úÖ COCOA: $5902.00 (source: yfinance)
2025-12-16 12:27:48,729 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:48,729 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:27:48,730 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:50,859 - hybrid_data_fetcher - INFO - ‚úÖ Yahoo Finance: BITCOIN (BTC-USD) = $87122.43
2025-12-16 12:27:50,860 - server - INFO - ‚úÖ BITCOIN: $87122.43 (source: yfinance)
2025-12-16 12:27:50,862 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:27:50,862 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:27:50,863 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:27:50,866 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:28:01,365 - server - INFO - üîç Connection health check...
2025-12-16 12:28:01,366 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:28:01,366 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:28:01,366 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:28:01,838 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:28:01,838 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:28:01,839 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:28:01,839 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:28:01,839 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:28:01,839 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:28:01,839 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:28:02,243 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:28:02,244 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:28:02,245 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:28:02,245 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:28:02,245 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:28:05,867 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:28:05,868 - server - INFO - ‚úÖ GOLD: $4317.10 (source: yfinance)
2025-12-16 12:28:05,868 - server - INFO - ‚úÖ SILVER: $63.16 (source: yfinance)
2025-12-16 12:28:05,869 - server - INFO - ‚úÖ PLATINUM: $1851.70 (source: yfinance)
2025-12-16 12:28:05,869 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:05,869 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:28:05,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:05,870 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:05,870 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:28:05,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:05,870 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:05,870 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:28:05,870 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:07,871 - server - INFO - ‚úÖ PALLADIUM: $1633.50 (source: yfinance)
2025-12-16 12:28:07,872 - server - INFO - ‚úÖ WTI_CRUDE: $55.85 (source: yfinance)
2025-12-16 12:28:07,872 - server - INFO - ‚úÖ BRENT_CRUDE: $59.73 (source: yfinance)
2025-12-16 12:28:07,873 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:07,873 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:28:07,873 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:07,873 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:07,873 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:28:07,874 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:07,874 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:07,874 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:28:07,874 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:09,876 - server - INFO - ‚úÖ NATURAL_GAS: $3.94 (source: yfinance)
2025-12-16 12:28:09,876 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:28:09,877 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:28:09,878 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:09,878 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:28:09,878 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:09,878 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:09,878 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:28:09,878 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:09,878 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:09,878 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:28:09,879 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:11,881 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:28:11,881 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:28:11,882 - server - INFO - ‚úÖ COFFEE: $355.40 (source: yfinance)
2025-12-16 12:28:11,882 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:11,882 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:28:11,883 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:11,883 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:11,883 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:28:11,883 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:11,883 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:11,883 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:28:11,884 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:13,887 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:28:13,888 - server - INFO - ‚úÖ COCOA: $5902.00 (source: yfinance)
2025-12-16 12:28:13,888 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:28:13,889 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:13,889 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:28:13,890 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:13,890 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:13,890 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:28:13,890 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:13,890 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:13,890 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:28:13,890 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:15,892 - server - INFO - ‚úÖ BITCOIN: $87122.43 (source: yfinance)
2025-12-16 12:28:15,894 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:15,894 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:28:15,894 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:15,896 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:28:30,898 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:28:30,898 - server - INFO - ‚úÖ GOLD: $4317.10 (source: yfinance)
2025-12-16 12:28:30,899 - server - INFO - ‚úÖ SILVER: $63.16 (source: yfinance)
2025-12-16 12:28:30,899 - server - INFO - ‚úÖ PLATINUM: $1851.70 (source: yfinance)
2025-12-16 12:28:30,901 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:30,901 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:28:30,901 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:30,901 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:30,901 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:28:30,901 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:30,902 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:30,902 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:28:30,902 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:32,903 - server - INFO - ‚úÖ PALLADIUM: $1633.50 (source: yfinance)
2025-12-16 12:28:32,903 - server - INFO - ‚úÖ WTI_CRUDE: $55.85 (source: yfinance)
2025-12-16 12:28:32,904 - server - INFO - ‚úÖ BRENT_CRUDE: $59.73 (source: yfinance)
2025-12-16 12:28:32,905 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:32,905 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:28:32,905 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:32,905 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:32,905 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:28:32,906 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:32,906 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:32,906 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:28:32,906 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:34,908 - server - INFO - ‚úÖ NATURAL_GAS: $3.94 (source: yfinance)
2025-12-16 12:28:34,908 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:28:34,909 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:28:34,910 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:34,910 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:28:34,910 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:34,910 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:34,910 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:28:34,911 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:34,911 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:34,911 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:28:34,911 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:36,914 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:28:36,918 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:28:36,920 - server - INFO - ‚úÖ COFFEE: $355.40 (source: yfinance)
2025-12-16 12:28:36,923 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:36,924 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:28:36,925 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:36,926 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:36,926 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:28:36,927 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:36,931 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:36,931 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:28:36,932 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:38,934 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:28:38,936 - server - INFO - ‚úÖ COCOA: $5902.00 (source: yfinance)
2025-12-16 12:28:38,937 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:28:38,940 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:38,941 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:28:38,943 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:38,943 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:38,943 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:28:38,943 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:38,944 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:38,944 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:28:38,944 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:40,945 - server - INFO - ‚úÖ BITCOIN: $87122.43 (source: yfinance)
2025-12-16 12:28:40,946 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:40,946 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:28:40,946 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:40,948 - server - INFO - Market data processing complete for all commodities
2025-12-16 12:28:55,950 - server - INFO - Fetching market data for 16 commodities: ['GOLD', 'SILVER', 'PLATINUM', 'PALLADIUM', 'WTI_CRUDE', 'BRENT_CRUDE', 'NATURAL_GAS', 'COPPER', 'WHEAT', 'CORN', 'SOYBEANS', 'COFFEE', 'SUGAR', 'COCOA', 'EURUSD', 'BITCOIN']
2025-12-16 12:28:55,951 - server - INFO - ‚úÖ GOLD: $4317.10 (source: yfinance)
2025-12-16 12:28:55,953 - server - INFO - ‚úÖ SILVER: $63.16 (source: yfinance)
2025-12-16 12:28:55,954 - server - INFO - ‚úÖ PLATINUM: $1851.70 (source: yfinance)
2025-12-16 12:28:55,955 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:55,955 - server - ERROR - Error processing commodity GOLD: no such column: data_source
2025-12-16 12:28:55,956 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:55,956 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:55,956 - server - ERROR - Error processing commodity SILVER: no such column: data_source
2025-12-16 12:28:55,956 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:55,956 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:55,956 - server - ERROR - Error processing commodity PLATINUM: no such column: data_source
2025-12-16 12:28:55,956 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:57,962 - server - INFO - ‚úÖ PALLADIUM: $1633.50 (source: yfinance)
2025-12-16 12:28:57,963 - server - INFO - ‚úÖ WTI_CRUDE: $55.85 (source: yfinance)
2025-12-16 12:28:57,963 - server - INFO - ‚úÖ BRENT_CRUDE: $59.73 (source: yfinance)
2025-12-16 12:28:57,965 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:57,966 - server - ERROR - Error processing commodity PALLADIUM: no such column: data_source
2025-12-16 12:28:57,966 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:57,966 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:57,967 - server - ERROR - Error processing commodity WTI_CRUDE: no such column: data_source
2025-12-16 12:28:57,969 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:57,970 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:57,970 - server - ERROR - Error processing commodity BRENT_CRUDE: no such column: data_source
2025-12-16 12:28:57,970 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:59,971 - server - INFO - ‚úÖ NATURAL_GAS: $3.94 (source: yfinance)
2025-12-16 12:28:59,972 - server - INFO - ‚úÖ COPPER: $5.37 (source: yfinance)
2025-12-16 12:28:59,972 - server - INFO - ‚úÖ WHEAT: $517.25 (source: yfinance)
2025-12-16 12:28:59,973 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:59,973 - server - ERROR - Error processing commodity NATURAL_GAS: no such column: data_source
2025-12-16 12:28:59,973 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:59,974 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:59,974 - server - ERROR - Error processing commodity COPPER: no such column: data_source
2025-12-16 12:28:59,974 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:28:59,974 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:28:59,974 - server - ERROR - Error processing commodity WHEAT: no such column: data_source
2025-12-16 12:28:59,974 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:29:01,975 - server - INFO - ‚úÖ CORN: $438.75 (source: yfinance)
2025-12-16 12:29:01,975 - server - INFO - ‚úÖ SOYBEANS: $1072.75 (source: yfinance)
2025-12-16 12:29:01,976 - server - INFO - ‚úÖ COFFEE: $355.40 (source: yfinance)
2025-12-16 12:29:01,977 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:29:01,977 - server - ERROR - Error processing commodity CORN: no such column: data_source
2025-12-16 12:29:01,977 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:29:01,977 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:29:01,977 - server - ERROR - Error processing commodity SOYBEANS: no such column: data_source
2025-12-16 12:29:01,977 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:29:01,978 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:29:01,978 - server - ERROR - Error processing commodity COFFEE: no such column: data_source
2025-12-16 12:29:01,978 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:29:02,247 - server - INFO - üîç Connection health check...
2025-12-16 12:29:02,249 - server - WARNING - ‚ö†Ô∏è MT5_LIBERTEX_DEMO has no connector, reconnecting...
2025-12-16 12:29:02,249 - multi_platform_connector - INFO - üîÑ Connecting to MT5_LIBERTEX_DEMO via SDK...
2025-12-16 12:29:02,249 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:29:02,634 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:29:02,635 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:29:02,635 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:29:02,635 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_LIBERTEX_DEMO
2025-12-16 12:29:02,635 - server - WARNING - ‚ö†Ô∏è MT5_ICMARKETS_DEMO has no connector, reconnecting...
2025-12-16 12:29:02,635 - multi_platform_connector - INFO - üîÑ Connecting to MT5_ICMARKETS_DEMO via SDK...
2025-12-16 12:29:02,635 - metaapi_sdk_connector - INFO - MetaAPI SDK Connector initialized (shared client): market-trader-116
2025-12-16 12:29:03,031 - httpx - INFO - HTTP Request: GET https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116 "HTTP/1.1 404 Not Found"
2025-12-16 12:29:03,032 - metaapi_sdk_connector - ERROR - MetaAPI SDK Verbindungsfehler (NotFoundException): Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116
2025-12-16 12:29:03,032 - metaapi_sdk_connector - ERROR - Full traceback:
Traceback (most recent call last):
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 90, in request
    response.raise_for_status()
  File "/root/.venv/lib/python3.11/site-packages/httpx/_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '404 Not Found' for url 'https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/404

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/app/backend/metaapi_sdk_connector.py", line 114, in connect
    self.account = await self.api.metatrader_account_api.get_account(self.account_id)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/metaapi/metatrader_account_api.py", line 121, in get_account
    account = await self._metatrader_account_client.get_account(account_id)
              ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/metaapi/metatrader_account_client.py", line 509, in get_account
    return await self._http_client.request(opts, 'get_account')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 112, in request
    retry_counter = await self._handle_error(err, type, retry_counter, end_time)
                    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/metaapi_cloud_sdk/clients/http_client.py", line 165, in _handle_error
    raise error
metaapi_cloud_sdk.clients.error_handler.NotFoundException: Trading account with id market-trader-116 not found. Request URL: https://mt-provisioning-api-v1.agiliumtrade.agiliumtrade.ai/users/current/accounts/market-trader-116

2025-12-16 12:29:03,032 - multi_platform_connector - ERROR - ‚ùå Failed to connect MT5_ICMARKETS_DEMO
2025-12-16 12:29:03,032 - server - INFO - ‚úÖ Health check complete
2025-12-16 12:29:03,981 - server - INFO - ‚úÖ SUGAR: $14.95 (source: yfinance)
2025-12-16 12:29:03,982 - server - INFO - ‚úÖ COCOA: $5902.00 (source: yfinance)
2025-12-16 12:29:03,982 - server - INFO - ‚úÖ EURUSD: $1.18 (source: yfinance)
2025-12-16 12:29:03,983 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:29:03,983 - server - ERROR - Error processing commodity SUGAR: no such column: data_source
2025-12-16 12:29:03,983 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:29:03,983 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:29:03,983 - server - ERROR - Error processing commodity COCOA: no such column: data_source
2025-12-16 12:29:03,984 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:29:03,984 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:29:03,984 - server - ERROR - Error processing commodity EURUSD: no such column: data_source
2025-12-16 12:29:03,984 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:29:05,985 - server - INFO - ‚úÖ BITCOIN: $87122.43 (source: yfinance)
2025-12-16 12:29:05,988 - database - ERROR - Error updating market data: no such column: data_source
2025-12-16 12:29:05,989 - server - ERROR - Error processing commodity BITCOIN: no such column: data_source
2025-12-16 12:29:05,989 - server - ERROR - Traceback (most recent call last):
  File "/app/backend/server.py", line 864, in process_commodity_market_data
    await db.market_data.update_one(
  File "/app/backend/database.py", line 737, in update_one
    await self.db._conn.execute(
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 183, in execute
    cursor = await self._execute(self._conn.execute, sql, parameters)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 122, in _execute
    return await future
           ^^^^^^^^^^^^
  File "/root/.venv/lib/python3.11/site-packages/aiosqlite/core.py", line 105, in run
    result = function()
             ^^^^^^^^^^
sqlite3.OperationalError: no such column: data_source

2025-12-16 12:29:05,992 - server - INFO - Market data processing complete for all commodities
